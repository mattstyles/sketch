{"mappings":"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","sources":["node_modules/.pnpm/@parcel+runtime-js@2.8.0_@parcel+core@2.8.0/node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","packages/sketch-attach/lib/index.mjs","packages/sketch-canvas/lib/index.mjs","packages/sketch-canvas-size/lib/index.mjs","packages/sketch-application/lib/index.mjs","node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/v4.js","node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/native.js","node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/rng.js","node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/stringify.js","node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/validate.js","node_modules/.pnpm/uuid@9.0.0/node_modules/uuid/dist/esm-browser/regex.js","packages/sketch-context/lib/index.mjs","node_modules/.pnpm/@parcel+runtime-js@2.8.0_@parcel+core@2.8.0/node_modules/@parcel/runtime-js/lib/runtime-b172bd6ed94defe1.js","apps/examples/pages/react-pixi/react-pixi.tsx","packages/sketch-react-pixi/lib/index.mjs","node_modules/.pnpm/@parcel+runtime-js@2.8.0_@parcel+core@2.8.0/node_modules/@parcel/runtime-js/lib/runtime-f0414f99397c3770.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","// src/index.ts\nimport { create } from \"sketch-canvas\";\nfunction attach(opts) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    throw new Error(\"Can not attach canvas\");\n  }\n  const canvas = (opts == null ? void 0 : opts.canvas) || create();\n  const container = (opts == null ? void 0 : opts.container) || canvas.parentElement;\n  if (container == null) {\n    throw new Error(\n      \"Must supply a container to attach the canvas to if not already appended\"\n    );\n  }\n  container.appendChild(canvas);\n  if (container === document.body) {\n    canvas.style.display = \"block\";\n  }\n  return {\n    canvas,\n    container\n  };\n}\nexport {\n  attach\n};\n","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    throw new Error(\"Can not create canvas element\");\n  }\n  const canvas = document.createElement(\"canvas\");\n  const width = (opts == null ? void 0 : opts.width) ?? canvas.width;\n  const height = (opts == null ? void 0 : opts.height) ?? canvas.height;\n  canvas.style.userSelect = \"none\";\n  setCanvasSize({\n    canvas,\n    width,\n    height\n  });\n  return canvas;\n}\nexport {\n  create\n};\n","// src/index.ts\nfunction setCanvasSize(opts) {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"Can not access window\");\n  }\n  const dpr = window.devicePixelRatio;\n  opts.canvas.width = opts.width;\n  opts.canvas.height = opts.height;\n  return setCanvasDpr({\n    canvas: opts.canvas,\n    dpr\n  });\n}\nfunction setCanvasDpr(opts) {\n  const canvas = opts.canvas;\n  const width = canvas.width;\n  const height = canvas.height;\n  canvas.width = width * opts.dpr;\n  canvas.height = height * opts.dpr;\n  canvas.style.width = width + \"px\";\n  canvas.style.height = height + \"px\";\n  return canvas;\n}\nexport {\n  setCanvasDpr,\n  setCanvasSize\n};\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/application.ts\nimport { v4 as uuid } from \"uuid\";\nimport { create as createContext } from \"sketch-context\";\nvar BaseApplication = class {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this._events = /* @__PURE__ */ new Map();\n    this._disposers = /* @__PURE__ */ new Set();\n  }\n  on(event) {\n    const id = uuid();\n    if (!this._events.has(event.type)) {\n      this._events.set(event.type, /* @__PURE__ */ new Map());\n    }\n    const map = this._events.get(event.type);\n    if (map == null) {\n      throw new Error(`Can not get event map for ${event.type}`);\n    }\n    map.set(id, event.action);\n    return () => {\n      map.delete(id);\n    };\n  }\n  dispose() {\n    for (let fn of this._disposers) {\n      fn();\n    }\n  }\n};\nvar CtxApplication = class extends BaseApplication {\n  constructor(canvas) {\n    super(canvas);\n    const ctx = createContext({ canvas: this.canvas });\n    if (ctx == null) {\n      throw new Error(\"Erroring creating context\");\n    }\n    this.ctx = ctx;\n  }\n};\n\n// src/mixins/resize.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction withResize(Base) {\n  var _a;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n      const resizeObserver = new ResizeObserver((entries) => {\n        const map = this._events.get(_a.mapKey);\n        for (const entry of entries) {\n          const cr = entry.contentRect;\n          setCanvasSize({\n            canvas: this.canvas,\n            width: cr.width,\n            height: cr.height\n          });\n          if (map != null) {\n            for (let [_, fn] of map) {\n              fn({\n                app: this,\n                width: cr.width,\n                height: cr.height\n              });\n            }\n          }\n          if (this._events.has(\"tick\")) {\n            const m = this._events.get(\"tick\");\n            if (m != null) {\n              for (let [_, fn] of m) {\n                fn({\n                  dt: 0,\n                  app: this\n                });\n              }\n            }\n          }\n        }\n      });\n      const container = this.canvas.parentElement;\n      if (container != null) {\n        resizeObserver.observe(container);\n      }\n      this._disposers.add(() => {\n        resizeObserver.disconnect();\n      });\n    }\n  }, _a.mapKey = \"resize\", _a;\n}\n\n// src/mixins/tick.ts\nfunction withTick(Base) {\n  var _a, _last, _tickID, _tick;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      __privateAdd(this, _last, void 0);\n      __privateAdd(this, _tickID, void 0);\n      this.isRunning = false;\n      __privateAdd(this, _tick, () => {\n        if (this.isRunning === false) {\n          return;\n        }\n        const map = this._events.get(_a.mapKey);\n        if (map != null) {\n          const now = window.performance.now();\n          for (let [_, fn] of map) {\n            fn({\n              dt: now - __privateGet(this, _last),\n              app: this\n            });\n          }\n          __privateSet(this, _last, now);\n        }\n        __privateSet(this, _tickID, window.requestAnimationFrame(__privateGet(this, _tick)));\n      });\n      __privateSet(this, _tickID, null);\n      __privateSet(this, _last, window.performance.now());\n      this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n      this._disposers.add(() => {\n        if (__privateGet(this, _tickID)) {\n          window.cancelAnimationFrame(__privateGet(this, _tickID));\n        }\n      });\n    }\n    start() {\n      this.isRunning = true;\n      __privateSet(this, _last, window.performance.now());\n      __privateGet(this, _tick).call(this);\n    }\n    stop() {\n      this.isRunning = false;\n    }\n  }, _last = new WeakMap(), _tickID = new WeakMap(), _tick = new WeakMap(), _a.mapKey = \"tick\", _a;\n}\n\n// src/mixins/interaction.ts\nfunction withInteraction(Base) {\n  var _onPointerdown, _onPointerup, _onPointermove, _a;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      __privateAdd(this, _onPointerdown, (event) => {\n        const map = this._events.get(\"pointerdown\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.clientX * scale, y: event.clientY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      __privateAdd(this, _onPointerup, (event) => {\n        const map = this._events.get(\"pointerup\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.clientX * scale, y: event.clientY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      __privateAdd(this, _onPointermove, (event) => {\n        const map = this._events.get(\"pointermove\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.clientX * scale, y: event.clientY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      this._events.set(\"pointerdown\", /* @__PURE__ */ new Map());\n      this._events.set(\"pointerup\", /* @__PURE__ */ new Map());\n      this._events.set(\"pointermove\", /* @__PURE__ */ new Map());\n      this.canvas.addEventListener(\"pointerdown\", __privateGet(this, _onPointerdown));\n      this.canvas.addEventListener(\"pointerup\", __privateGet(this, _onPointerup));\n      this.canvas.addEventListener(\"pointermove\", __privateGet(this, _onPointermove));\n      this._disposers.add(() => {\n        this.canvas.removeEventListener(\"pointerdown\", __privateGet(this, _onPointerdown));\n        this.canvas.removeEventListener(\"pointerup\", __privateGet(this, _onPointerup));\n        this.canvas.removeEventListener(\"pointermove\", __privateGet(this, _onPointermove));\n      });\n    }\n  }, _onPointerdown = new WeakMap(), _onPointerup = new WeakMap(), _onPointermove = new WeakMap(), _a;\n}\nexport {\n  BaseApplication,\n  CtxApplication,\n  withInteraction,\n  withResize,\n  withTick\n};\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    return null;\n  }\n  const canvas = (opts == null ? void 0 : opts.canvas) ?? document.createElement(\"canvas\");\n  const dpr = window.devicePixelRatio;\n  const ctx = canvas.getContext(\"2d\", (opts == null ? void 0 : opts.attributes) ?? {});\n  if (ctx == null) {\n    return null;\n  }\n  setCanvasSize({\n    canvas,\n    width: ctx.canvas.width,\n    height: ctx.canvas.height\n  });\n  ctx.scale(dpr, dpr);\n  return ctx;\n}\nexport {\n  create\n};\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jJvS7\\\":\\\"index.25b6b702.js\\\",\\\"hFe3D\\\":\\\"tiles.39e5b41c.webp\\\",\\\"iGI5v\\\":\\\"index.59422220.js\\\",\\\"rJD7e\\\":\\\"index.17813a5e.js\\\"}\"));","import * as React from 'react'\n\nimport type {ApplicationInstance} from 'sketch-react-pixi'\n\nimport {Graphics, Assets, Sprite, SCALE_MODES} from 'pixi.js'\nimport {useEffect} from 'react'\nimport {createRoot} from 'react-dom/client'\nimport {SketchProvider, SketchAttachment, useSketchApp} from 'sketch-react-pixi'\n\nconst container = document.querySelector('.js-app') as HTMLElement\nconst root = createRoot(container)\nroot.render(<App />)\n\nfunction App() {\n  return (\n    <SketchProvider>\n      <Container>\n        <Sketch />\n      </Container>\n    </SketchProvider>\n  )\n}\n\nfunction Container({children}: {children: React.ReactNode}) {\n  return <div className='screen'>{children}</div>\n}\n\nconst baseRadius = 20\nconst growFactor = 8\nconst circle = new Graphics()\ncircle.beginFill(0xffffff, 1)\ncircle.drawCircle(0, 0, baseRadius)\ncircle.endFill()\n\nfunction Sketch() {\n  const app = useSketchApp()\n  useEffect(() => {\n    if (app == null) {\n      return\n    }\n\n    // Apply render function to each frame\n    app.on({\n      type: 'tick',\n      action: render,\n    })\n    const imageUrl = new URL(\n      '~/public/tiles.png?as=webp&width=100',\n      import.meta.url\n    )\n    async function load() {\n      Assets.add('image', imageUrl.toString(), {scaleMode: SCALE_MODES.NEAREST})\n      const asset = await Assets.load('image')\n      console.log('loaded', asset)\n      const sprite = Sprite.from(asset)\n      sprite.setTransform(100, 100, 2, 2)\n      if (app != null) {\n        app.pixi.stage.addChild(sprite)\n      }\n    }\n\n    load().then(() => {\n      console.log('async useeffect loaded, this is a horrible pattern')\n    })\n\n    // Initiate pixi stage objects\n    app.pixi.stage.addChild(circle)\n  }, [app])\n  return <SketchAttachment />\n}\n\nlet time = 0\nfunction render({app, dt}: {app: ApplicationInstance; dt: number}) {\n  time = time + dt / 500\n\n  const scale = growFactor + 1 + Math.sin(time) * growFactor\n  circle.setTransform(\n    app.canvas.width * 0.5,\n    app.canvas.height * 0.5,\n    scale,\n    scale\n  )\n}\n\n// const imageUrl = new URL(\n//   '~/public/tiles.png?as=webp&width=100',\n//   import.meta.url\n// )\n// async function load() {\n//   const asset = await Assets.load(imageUrl.toString())\n//   console.log('loaded', asset)\n//   const sprite = Sprite.from(asset)\n//\n//\n// }\n// load()\n","// src/index.tsx\nimport { createContext, useContext, useEffect, useRef, useState } from \"react\";\nimport { sketch } from \"sketch-pixi-app\";\nimport { jsx } from \"react/jsx-runtime\";\nvar applicationContext = createContext(null);\nfunction SketchProvider({\n  children,\n  app\n}) {\n  const [application, setApp] = useState(\n    app ?? null\n  );\n  return /* @__PURE__ */ jsx(applicationContext.Provider, {\n    value: {\n      app: application,\n      setApp\n    },\n    children\n  });\n}\nfunction SketchAttachment() {\n  const ctx = useContext(applicationContext);\n  const canvas = useRef(null);\n  useEffect(() => {\n    if (ctx == null) {\n      throw new Error(\"Sketch attachment must be a child of a sketch provider\");\n    }\n    if (canvas == null || canvas.current == null) {\n      return;\n    }\n    if (ctx.app == null) {\n      const app = sketch({ canvas: canvas.current });\n      app.start();\n      ctx.setApp(app);\n    } else {\n      ctx.app.start();\n    }\n    return () => {\n      if (ctx && ctx.app != null) {\n        ctx.app.dispose();\n      }\n    };\n  }, [canvas, ctx]);\n  return /* @__PURE__ */ jsx(\"canvas\", {\n    ref: canvas\n  });\n}\nfunction useSketchApp() {\n  const ctx = useContext(applicationContext);\n  return (ctx == null ? void 0 : ctx.app) ?? null;\n}\nfunction useSketchTick(onTick) {\n  const app = useSketchApp();\n  useEffect(() => {\n    if (app == null) {\n      return;\n    }\n    const unsubscribe = app.on({\n      type: \"tick\",\n      action: onTick\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, [onTick, app]);\n}\nexport {\n  SketchAttachment,\n  SketchProvider,\n  useSketchApp,\n  useSketchTick\n};\n","module.exports = new __parcel__URL__(\"../\" + require('./helpers/bundle-manifest').resolve(\"hFe3D\")).toString();"],"names":["$fe832141f4cbb7a6$export$6503ec6e8aabbaf","$fe832141f4cbb7a6$export$f7ad0328861e2f03","$fe832141f4cbb7a6$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$bW9gS","parcelRequire","$a9d113484ce60425$export$5ddf9e484e541d6f","opts","window","document","canvas","create","container","parentElement","appendChild","body","style","display","$ckcgQ","$86c4614c5abb1ea1$export$185802fd694ee1f5","createElement","width","height","userSelect","setCanvasSize","$7e6ea443c67680a4$export$e3aebd8246ac72dc","dpr","devicePixelRatio","$7e6ea443c67680a4$export$efd52609a467c022","$7JkHJ","$630e86ce1a69e605$var$__accessCheck","obj","member","msg","has","TypeError","$630e86ce1a69e605$var$__privateGet","getter","call","get","$630e86ce1a69e605$var$__privateAdd","value","WeakSet","add","set","$630e86ce1a69e605$var$__privateSet","setter","$630e86ce1a69e605$export$8ea6436d101f2919","constructor","this","_events","Map","_disposers","Set","on","event","default","type","map","action","delete","dispose","fn","$630e86ce1a69e605$export$1aad3252b0fb68b7","super","ctx","$8aGfK","$630e86ce1a69e605$export$9ea7e8544c962ee3","Base","_a","args","mapKey","resizeObserver","ResizeObserver","entries","entry","cr","contentRect","_","app","m","_1","fn1","dt","observe","disconnect","$630e86ce1a69e605$export$47a154e7626f0372","_last","_tickID","_tick","isRunning","now","performance","requestAnimationFrame","cancelAnimationFrame","start","stop","WeakMap","$630e86ce1a69e605$export$a8e01dbf0a30f22","_onPointerdown","_onPointerup","_onPointermove","scale","point","x","clientX","y","clientY","addEventListener","removeEventListener","$aZL8u","$5a0ccbd7c13584e0$export$2e2bcd8739ae039","options","buf","offset","randomUUID","rnds","random","rng","$JzVaU","$l8li9","unsafeStringify","$80142a1f9804d1d0$export$2e2bcd8739ae039","crypto","bind","$089011480f24f94c$var$getRandomValues","$089011480f24f94c$var$rnds8","Uint8Array","$089011480f24f94c$export$2e2bcd8739ae039","getRandomValues","$f62adc69c8e6b48a$var$byteToHex","push","toString","slice","$f62adc69c8e6b48a$export$8fb373d660548968","arr","toLowerCase","$2DDAx","$331052ea499a9ab4$export$2e2bcd8739ae039","uuid","test","$1ebdeeae9ed64697$export$2e2bcd8739ae039","$0fd96d774458c65a$export$185802fd694ee1f5","getContext","attributes","register","JSON","parse","$fRwNr","$lx97N","$fcaee89a98dbbe80$var$applicationContext","createContext","$fcaee89a98dbbe80$export$d4bf0edbbddc8898","children","application","setApp","useState","jsx","Provider","$fcaee89a98dbbe80$export$eef3e2c8cb25a94","useContext","useRef","useEffect","current","$bIxrZ","sketch","ref","$fcaee89a98dbbe80$export$ea7bba1837e9aed6","$e0c186300c4e8900$var$container","querySelector","$e0c186300c4e8900$var$App","$e0c186300c4e8900$var$Container","$e0c186300c4e8900$var$Sketch","className","$jhfT6","createRoot","render","$e0c186300c4e8900$var$circle","$b2dVT","Graphics","beginFill","drawCircle","endFill","$e0c186300c4e8900$var$render","imageUrl","URL","$2e4cd3039d114e34$exports","async","Assets","scaleMode","SCALE_MODES","NEAREST","asset","load","console","log","sprite","Sprite","from","setTransform","pixi","stage","addChild","then","resolve","import","meta","url","$e0c186300c4e8900$var$time","$e0c186300c4e8900$var$growFactor","Math","sin"],"version":3,"file":"index.25b6b702.js.map"}