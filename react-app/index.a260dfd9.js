var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequireedcf;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var s={id:t,exports:{}};return e[t]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){n[t]=e},t.parcelRequireedcf=i);var s=i("fRwNr"),o=i("lx97N"),r=(i("lx97N"),i("jhfT6"));o=i("lx97N");function a(t){if("undefined"==typeof window)throw new Error("Can not access window");const e=window.devicePixelRatio;return t.canvas.width=t.width,t.canvas.height=t.height,function(t){const e=t.canvas,n=e.width,i=e.height;return e.width=n*t.dpr,e.height=i*t.dpr,e.style.width=n+"px",e.style.height=i+"px",e}({canvas:t.canvas,dpr:e})}function c(t){if("undefined"==typeof window||"undefined"==typeof document)throw new Error("Can not create canvas element");const e=document.createElement("canvas"),n=(null==t?void 0:t.width)??e.width,i=(null==t?void 0:t.height)??e.height;return e.style.userSelect="none",a({canvas:e,width:n,height:i}),e}function d(t){if("undefined"==typeof window||"undefined"==typeof document)throw new Error("Can not attach canvas");const e=(null==t?void 0:t.canvas)||c(),n=(null==t?void 0:t.container)||e.parentElement;if(null==n)throw new Error("Must supply a container to attach the canvas to if not already appended");return n.appendChild(e),n===document.body&&(e.style.display="block"),{canvas:e,container:n}}var l={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let h;const u=new Uint8Array(16);function p(){if(!h&&(h="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!h))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return h(u)}const f=[];for(let t=0;t<256;++t)f.push((t+256).toString(16).slice(1));function v(t,e=0){return(f[t[e+0]]+f[t[e+1]]+f[t[e+2]]+f[t[e+3]]+"-"+f[t[e+4]]+f[t[e+5]]+"-"+f[t[e+6]]+f[t[e+7]]+"-"+f[t[e+8]]+f[t[e+9]]+"-"+f[t[e+10]]+f[t[e+11]]+f[t[e+12]]+f[t[e+13]]+f[t[e+14]]+f[t[e+15]]).toLowerCase()}var w=function(t,e,n){if(l.randomUUID&&!e&&!t)return l.randomUUID();const i=(t=t||{}).random||(t.rng||p)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(let t=0;t<16;++t)e[n+t]=i[t];return e}return v(i)};var m=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},x=(t,e,n)=>(m(t,e,"read from private field"),n?n.call(t):e.get(t)),y=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},g=(t,e,n,i)=>(m(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),E=class{constructor(t){this.canvas=t,this._events=new Map,this._disposers=new Set}on(t){const e=w();this._events.has(t.type)||this._events.set(t.type,new Map);const n=this._events.get(t.type);if(null==n)throw new Error(`Can not get event map for ${t.type}`);return n.set(e,t.action),()=>{n.delete(e)}}dispose(){for(let t of this._disposers)t()}};function R(t){const{canvas:e}=d(t);return new M(e)}var _,b,M=function(t){var e,n,i,s;return s=class extends t{constructor(...t){super(...t),y(this,e,(t=>{const e=this._events.get("pointerdown"),n=window.devicePixelRatio;if(null!=e)for(let[i,s]of e)s({point:{x:t.clientX*n,y:t.clientY*n},app:this})})),y(this,n,(t=>{const e=this._events.get("pointerup"),n=window.devicePixelRatio;if(null!=e)for(let[i,s]of e)s({point:{x:t.clientX*n,y:t.clientY*n},app:this})})),y(this,i,(t=>{const e=this._events.get("pointermove"),n=window.devicePixelRatio;if(null!=e)for(let[i,s]of e)s({point:{x:t.clientX*n,y:t.clientY*n},app:this})})),this._events.set("pointerdown",new Map),this._events.set("pointerup",new Map),this._events.set("pointermove",new Map),this.canvas.addEventListener("pointerdown",x(this,e)),this.canvas.addEventListener("pointerup",x(this,n)),this.canvas.addEventListener("pointermove",x(this,i)),this._disposers.add((()=>{this.canvas.removeEventListener("pointerdown",x(this,e)),this.canvas.removeEventListener("pointerup",x(this,n)),this.canvas.removeEventListener("pointermove",x(this,i))}))}},e=new WeakMap,n=new WeakMap,i=new WeakMap,s}(function(t){var e,n,i,s;return e=class extends t{constructor(...t){super(...t),y(this,n,void 0),y(this,i,void 0),this.isRunning=!1,y(this,s,(()=>{if(!1===this.isRunning)return;const t=this._events.get(e.mapKey);if(null!=t){const e=window.performance.now();for(let[i,s]of t)s({dt:e-x(this,n),app:this});g(this,n,e)}g(this,i,window.requestAnimationFrame(x(this,s)))})),g(this,i,null),g(this,n,window.performance.now()),this._events.set(e.mapKey,new Map),this._disposers.add((()=>{x(this,i)&&window.cancelAnimationFrame(x(this,i))}))}start(){this.isRunning=!0,g(this,n,window.performance.now()),x(this,s).call(this)}stop(){this.isRunning=!1}},n=new WeakMap,i=new WeakMap,s=new WeakMap,e.mapKey="tick",e}((_=class extends E{constructor(t){super(t);const e=function(t){if("undefined"==typeof window||"undefined"==typeof document)return null;const e=(null==t?void 0:t.canvas)??document.createElement("canvas"),n=window.devicePixelRatio,i=e.getContext("2d",(null==t?void 0:t.attributes)??{});return null==i?null:(a({canvas:e,width:i.canvas.width,height:i.canvas.height}),i.scale(n,n),i)}({canvas:this.canvas});if(null==e)throw new Error("Erroring creating context");this.ctx=e}},(b=class extends _{constructor(...t){super(...t),this._events.set(b.mapKey,new Map);const e=new ResizeObserver((t=>{const e=this._events.get(b.mapKey);for(const n of t){const t=n.contentRect;if(a({canvas:this.canvas,width:t.width,height:t.height}),null!=e)for(let[n,i]of e)i({app:this,width:t.width,height:t.height});if(this._events.has("tick")){const t=this._events.get("tick");if(null!=t)for(let[e,n]of t)n({dt:0,app:this})}}})),n=this.canvas.parentElement;null!=n&&e.observe(n),this._disposers.add((()=>{e.disconnect()}))}}).mapKey="resize",b))),k=(s=i("fRwNr"),(0,o.createContext)(null));function C({children:t}){const[e,n]=(0,o.useState)(null);return(0,s.jsx)(k.Provider,{value:{app:e,setApp:n},children:t})}function j(){const t=(0,o.useContext)(k),e=(0,o.useRef)(null);return(0,o.useEffect)((()=>{if(null==t)throw new Error("Sketch attachment must be a child of a sketch provider");if(null!=e&&null!=e.current){if(null==t.app){const n=R({canvas:e.current});n.start(),t.setApp(n)}else t.app.start();return()=>{t&&null!=t.app&&t.app.dispose()}}}),[e,t]),(0,s.jsx)("canvas",{ref:e})}function S(){const t=(0,o.useContext)(k);return(null==t?void 0:t.app)??null}function U(t){const e=S();(0,o.useEffect)((()=>{if(null==e)return;const n=e.on({type:"tick",action:t});return()=>{n()}}),[t,e])}const L=document.querySelector(".js-app");function P(){return(0,s.jsx)(C,{children:(0,s.jsxs)(N,{children:[(0,s.jsx)(W,{}),(0,s.jsx)(D,{})]})})}function N({children:t}){return(0,s.jsx)("div",{style:{width:"100vw",height:"100vh"},children:t})}function W(){return U(K),(0,s.jsx)(j,{})}function D(){const t=S(),[e,n]=(0,o.useState)(!0);return(0,s.jsx)("div",{className:"overlay absolute top-right",children:(0,s.jsx)("button",{disabled:null==t,onClick:()=>{null!=t&&(e?t.stop():t.start(),n(t.isRunning))},children:e?"Pause":"Resume"})})}(0,r.createRoot)(L).render((0,s.jsx)(P,{}));let I=0;function K({app:t,dt:e}){I+=e/500;const n=t.ctx.createLinearGradient(0,.85*t.ctx.canvas.height,t.ctx.canvas.width,.25*t.ctx.canvas.height);n.addColorStop(0,"#85ffbd"),n.addColorStop(1,"#fffb7d"),t.ctx.fillStyle=n,t.ctx.fillRect(16,16,t.ctx.canvas.width-32,t.ctx.canvas.height-32),t.ctx.beginPath(),t.ctx.strokeStyle="#484442",t.ctx.lineWidth=4,t.ctx.arc(.5*t.canvas.width,.5*t.canvas.height,.25*Math.min(t.canvas.width,t.canvas.height)*(1+.2*Math.sin(I)),0,2*Math.PI),t.ctx.stroke()}
//# sourceMappingURL=index.a260dfd9.js.map
