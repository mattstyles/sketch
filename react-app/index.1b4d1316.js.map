{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,O,I,ECAA,gBAAe;A,I,E,E,S,E,E,SAQf,SAAS,EAAK,CAAI,EAChB,GAAM,CAAA,OAAE,CAAM,CAAE,CAAG,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,GAC1B,OAAO,IAAI,EAAY,EACzB,CACA,IAAI,EAAc,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAAS,AAAA,CAAA,EAAA,EAAA,UAAS,AAAT,EAAW,EAAA,cAAa,G,G,E,Q,S,C,C,C,E,E,E,O,C,S,I,ECZnE,gBAAe;A,I,E,E,SAEf,SAAS,EAAO,CAAI,EAClB,GAAI,AAAkB,aAAlB,OAAO,QAA0B,AAAoB,aAApB,OAAO,SAC1C,MAAM,AAAI,MAAM,yBAElB,IAAM,EAAS,AAAC,CAAA,AAAQ,MAAR,EAAe,KAAK,EAAI,EAAK,MAAM,AAAN,GAAW,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,IAClD,EAAa,AAAA,CAAA,AAAQ,MAAR,EAAe,KAAK,EAAI,EAAK,SAAQ,AAAR,GAAc,EAAO,aAAa,CAClF,GAAI,AAAa,MAAb,EACF,MAAM,AAAI,MACR,2EAKJ,OAFA,EAAU,WAAW,CAAC,GACtB,EAAO,KAAK,CAAC,OAAO,CAAG,QAChB,CACL,OAAA,EACA,UAAA,CACF,CACF,C,G,E,Q,S,C,C,C,E,E,E,O,C,S,I,ECnBA,gBAAe;A,I,E,E,SAEf,SAAS,EAAO,CAAI,EAClB,IAAI,EAAI,EACR,GAAI,AAAkB,aAAlB,OAAO,QAA0B,AAAoB,aAApB,OAAO,SAC1C,MAAM,AAAI,MAAM,iCA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","sources":["<anon>","packages/sketch-loop/lib/index.mjs","packages/sketch-attach/lib/index.mjs","packages/sketch-canvas/lib/index.mjs","packages/sketch-canvas-size/lib/index.mjs","packages/sketch-application/lib/index.mjs","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/validate.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/regex.js","packages/sketch-context/lib/index.mjs","apps/examples/pages/react-app/react-app.tsx","packages/sketch-react-app/lib/index.mjs"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireedcf\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireedcf\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"dQH5Y\", function(module, exports) {\n\n$parcel$export(module.exports, \"loop\", () => $3609002d17f8ee44$export$f9ef67375ddc185);\n// src/index.ts\n\nvar $io0Tf = parcelRequire(\"io0Tf\");\n\nvar $7XNOC = parcelRequire(\"7XNOC\");\nfunction $3609002d17f8ee44$export$f9ef67375ddc185(opts) {\n    const { canvas: canvas } = (0, $io0Tf.attach)(opts);\n    return new $3609002d17f8ee44$export$16975c34e60e1e61(canvas);\n}\nvar $3609002d17f8ee44$export$16975c34e60e1e61 = (0, $7XNOC.withInteraction)((0, $7XNOC.withTick)((0, $7XNOC.withResize)((0, $7XNOC.CtxApplication))));\n\n});\nparcelRegister(\"io0Tf\", function(module, exports) {\n\n$parcel$export(module.exports, \"attach\", () => $a9d113484ce60425$export$5ddf9e484e541d6f);\n// src/index.ts\n\nvar $bW9gS = parcelRequire(\"bW9gS\");\nfunction $a9d113484ce60425$export$5ddf9e484e541d6f(opts) {\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") throw new Error(\"Can not attach canvas\");\n    const canvas = (opts == null ? void 0 : opts.canvas) || (0, $bW9gS.create)();\n    const container = (opts == null ? void 0 : opts.container) || canvas.parentElement;\n    if (container == null) throw new Error(\"Must supply a container to attach the canvas to if not already appended\");\n    container.appendChild(canvas);\n    canvas.style.display = \"block\";\n    return {\n        canvas: canvas,\n        container: container\n    };\n}\n\n});\nparcelRegister(\"bW9gS\", function(module, exports) {\n\n$parcel$export(module.exports, \"create\", () => $86c4614c5abb1ea1$export$185802fd694ee1f5);\n// src/index.ts\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nfunction $86c4614c5abb1ea1$export$185802fd694ee1f5(opts) {\n    var _a, _b;\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") throw new Error(\"Can not create canvas element\");\n    const canvas = document.createElement(\"canvas\");\n    const width = (_a = opts == null ? void 0 : opts.width) != null ? _a : canvas.width;\n    const height = (_b = opts == null ? void 0 : opts.height) != null ? _b : canvas.height;\n    canvas.style.userSelect = \"none\";\n    canvas.onselectstart = ()=>false;\n    (0, $ckcgQ.setCanvasSize)({\n        canvas: canvas,\n        width: width,\n        height: height\n    });\n    return canvas;\n}\n\n});\nparcelRegister(\"ckcgQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"setCanvasSize\", () => $7e6ea443c67680a4$export$e3aebd8246ac72dc);\n$parcel$export(module.exports, \"setCanvasDpr\", () => $7e6ea443c67680a4$export$efd52609a467c022);\n// src/index.ts\nfunction $7e6ea443c67680a4$export$e3aebd8246ac72dc(opts) {\n    if (typeof window === \"undefined\") throw new Error(\"Can not access window\");\n    const dpr = window.devicePixelRatio;\n    opts.canvas.width = opts.width;\n    opts.canvas.height = opts.height;\n    return $7e6ea443c67680a4$export$efd52609a467c022({\n        canvas: opts.canvas,\n        dpr: dpr\n    });\n}\nfunction $7e6ea443c67680a4$export$efd52609a467c022(opts) {\n    const canvas = opts.canvas;\n    const width = canvas.width;\n    const height = canvas.height;\n    canvas.width = width * opts.dpr;\n    canvas.height = height * opts.dpr;\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n    return canvas;\n}\n\n});\n\n\n\nparcelRegister(\"7XNOC\", function(module, exports) {\n\n$parcel$export(module.exports, \"BaseApplication\", () => $630e86ce1a69e605$export$8ea6436d101f2919);\n$parcel$export(module.exports, \"CtxApplication\", () => $630e86ce1a69e605$export$1aad3252b0fb68b7);\n$parcel$export(module.exports, \"withResize\", () => $630e86ce1a69e605$export$9ea7e8544c962ee3);\n$parcel$export(module.exports, \"withTick\", () => $630e86ce1a69e605$export$47a154e7626f0372);\n$parcel$export(module.exports, \"withInteraction\", () => $630e86ce1a69e605$export$a8e01dbf0a30f22);\n\nvar $k6Cub = parcelRequire(\"k6Cub\");\n\nvar $8aGfK = parcelRequire(\"8aGfK\");\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nvar $630e86ce1a69e605$var$__accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar $630e86ce1a69e605$var$__privateGet = (obj, member, getter)=>{\n    $630e86ce1a69e605$var$__accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar $630e86ce1a69e605$var$__privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar $630e86ce1a69e605$var$__privateSet = (obj, member, value, setter)=>{\n    $630e86ce1a69e605$var$__accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar $630e86ce1a69e605$export$8ea6436d101f2919 = class {\n    constructor(canvas){\n        this.canvas = canvas;\n        this._events = /* @__PURE__ */ new Map();\n        this._disposers = /* @__PURE__ */ new Set();\n    }\n    on(event) {\n        const id = (0, $k6Cub.default)();\n        if (!this._events.has(event.type)) this._events.set(event.type, /* @__PURE__ */ new Map());\n        const map = this._events.get(event.type);\n        if (map == null) throw new Error(`Can not get event map for ${event.type}`);\n        map.set(id, event.action);\n        return ()=>{\n            map.delete(id);\n        };\n    }\n    dispose() {\n        for (let fn of this._disposers)fn();\n    }\n};\nvar $630e86ce1a69e605$export$1aad3252b0fb68b7 = class extends $630e86ce1a69e605$export$8ea6436d101f2919 {\n    constructor(canvas){\n        super(canvas);\n        const ctx = (0, $8aGfK.create)({\n            canvas: this.canvas\n        });\n        if (ctx == null) throw new Error(\"Erroring creating context\");\n        this.ctx = ctx;\n    }\n};\nfunction $630e86ce1a69e605$export$9ea7e8544c962ee3(Base) {\n    var _a;\n    return _a = class extends Base {\n        constructor(...args){\n            super(...args);\n            this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n            const resizeObserver = new ResizeObserver((entries)=>{\n                const map = this._events.get(_a.mapKey);\n                for (const entry of entries){\n                    const cr = entry.contentRect;\n                    (0, $ckcgQ.setCanvasSize)({\n                        canvas: this.canvas,\n                        width: cr.width,\n                        height: cr.height\n                    });\n                    if (map != null) for (let [_, fn] of map)fn({\n                        app: this,\n                        width: cr.width,\n                        height: cr.height\n                    });\n                    if (this._events.has(\"tick\")) {\n                        const m = this._events.get(\"tick\");\n                        if (m != null) for (let [_, fn] of m)fn({\n                            dt: 0,\n                            app: this\n                        });\n                    }\n                }\n            });\n            const container = this.canvas.parentElement;\n            if (container != null) resizeObserver.observe(container);\n            this._disposers.add(()=>{\n                resizeObserver.disconnect();\n            });\n        }\n    }, _a.mapKey = \"resize\", _a;\n}\n// src/mixins/tick.ts\nfunction $630e86ce1a69e605$export$47a154e7626f0372(Base) {\n    var _a, _last, _tickID, _tick;\n    return _a = class extends Base {\n        constructor(...args){\n            super(...args);\n            $630e86ce1a69e605$var$__privateAdd(this, _last, void 0);\n            $630e86ce1a69e605$var$__privateAdd(this, _tickID, void 0);\n            this.isRunning = false;\n            $630e86ce1a69e605$var$__privateAdd(this, _tick, ()=>{\n                if (this.isRunning === false) return;\n                const map = this._events.get(_a.mapKey);\n                if (map != null) {\n                    const now = window.performance.now();\n                    for (let [_, fn] of map)fn({\n                        dt: now - $630e86ce1a69e605$var$__privateGet(this, _last),\n                        app: this\n                    });\n                    $630e86ce1a69e605$var$__privateSet(this, _last, now);\n                }\n                $630e86ce1a69e605$var$__privateSet(this, _tickID, window.requestAnimationFrame($630e86ce1a69e605$var$__privateGet(this, _tick)));\n            });\n            $630e86ce1a69e605$var$__privateSet(this, _tickID, null);\n            $630e86ce1a69e605$var$__privateSet(this, _last, window.performance.now());\n            this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n            this._disposers.add(()=>{\n                if ($630e86ce1a69e605$var$__privateGet(this, _tickID)) window.cancelAnimationFrame($630e86ce1a69e605$var$__privateGet(this, _tickID));\n            });\n        }\n        start() {\n            this.isRunning = true;\n            $630e86ce1a69e605$var$__privateSet(this, _last, window.performance.now());\n            $630e86ce1a69e605$var$__privateGet(this, _tick).call(this);\n        }\n        stop() {\n            this.isRunning = false;\n        }\n    }, _last = new WeakMap(), _tickID = new WeakMap(), _tick = new WeakMap(), _a.mapKey = \"tick\", _a;\n}\n// src/mixins/interaction.ts\nfunction $630e86ce1a69e605$export$a8e01dbf0a30f22(Base) {\n    var _onPointerdown, _onPointerup, _onPointermove, _a;\n    return _a = class extends Base {\n        constructor(...args){\n            super(...args);\n            $630e86ce1a69e605$var$__privateAdd(this, _onPointerdown, (event)=>{\n                const map = this._events.get(\"pointerdown\");\n                const scale = window.devicePixelRatio;\n                if (map != null) for (let [_, fn] of map)fn({\n                    point: {\n                        x: event.offsetX * scale,\n                        y: event.offsetY * scale\n                    },\n                    app: this\n                });\n            });\n            $630e86ce1a69e605$var$__privateAdd(this, _onPointerup, (event)=>{\n                const map = this._events.get(\"pointerup\");\n                const scale = window.devicePixelRatio;\n                if (map != null) for (let [_, fn] of map)fn({\n                    point: {\n                        x: event.offsetX * scale,\n                        y: event.offsetY * scale\n                    },\n                    app: this\n                });\n            });\n            $630e86ce1a69e605$var$__privateAdd(this, _onPointermove, (event)=>{\n                const map = this._events.get(\"pointermove\");\n                const scale = window.devicePixelRatio;\n                const c = this.canvas;\n                if (map != null) for (let [_, fn] of map)fn({\n                    point: {\n                        x: event.offsetX * scale,\n                        y: event.offsetY * scale\n                    },\n                    app: this\n                });\n            });\n            this._events.set(\"pointerdown\", /* @__PURE__ */ new Map());\n            this._events.set(\"pointerup\", /* @__PURE__ */ new Map());\n            this._events.set(\"pointermove\", /* @__PURE__ */ new Map());\n            this.canvas.addEventListener(\"pointerdown\", $630e86ce1a69e605$var$__privateGet(this, _onPointerdown));\n            this.canvas.addEventListener(\"pointerup\", $630e86ce1a69e605$var$__privateGet(this, _onPointerup));\n            this.canvas.addEventListener(\"pointermove\", $630e86ce1a69e605$var$__privateGet(this, _onPointermove));\n            this._disposers.add(()=>{\n                this.canvas.removeEventListener(\"pointerdown\", $630e86ce1a69e605$var$__privateGet(this, _onPointerdown));\n                this.canvas.removeEventListener(\"pointerup\", $630e86ce1a69e605$var$__privateGet(this, _onPointerup));\n                this.canvas.removeEventListener(\"pointermove\", $630e86ce1a69e605$var$__privateGet(this, _onPointermove));\n            });\n        }\n    }, _onPointerdown = new WeakMap(), _onPointerup = new WeakMap(), _onPointermove = new WeakMap(), _a;\n}\n\n});\nparcelRegister(\"k6Cub\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $ea3238afc6b56ea1$export$2e2bcd8739ae039);\n\nvar $jnvTw = parcelRequire(\"jnvTw\");\n\nvar $iVZpt = parcelRequire(\"iVZpt\");\n\nvar $hlGJx = parcelRequire(\"hlGJx\");\nfunction $ea3238afc6b56ea1$var$v4(options, buf, offset) {\n    if ((0, $jnvTw.default).randomUUID && !buf && !options) return (0, $jnvTw.default).randomUUID();\n    options = options || {};\n    const rnds = options.random || (options.rng || (0, $iVZpt.default))(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = rnds[6] & 0x0f | 0x40;\n    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n    if (buf) {\n        offset = offset || 0;\n        for(let i = 0; i < 16; ++i)buf[offset + i] = rnds[i];\n        return buf;\n    }\n    return (0, $hlGJx.unsafeStringify)(rnds);\n}\nvar $ea3238afc6b56ea1$export$2e2bcd8739ae039 = $ea3238afc6b56ea1$var$v4;\n\n});\nparcelRegister(\"jnvTw\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $e1b8e7e3b637d75b$export$2e2bcd8739ae039);\nconst $e1b8e7e3b637d75b$var$randomUUID = typeof crypto !== \"undefined\" && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar $e1b8e7e3b637d75b$export$2e2bcd8739ae039 = {\n    randomUUID: $e1b8e7e3b637d75b$var$randomUUID\n};\n\n});\n\nparcelRegister(\"iVZpt\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $dc8d2f95093746a7$export$2e2bcd8739ae039);\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet $dc8d2f95093746a7$var$getRandomValues;\nconst $dc8d2f95093746a7$var$rnds8 = new Uint8Array(16);\nfunction $dc8d2f95093746a7$export$2e2bcd8739ae039() {\n    // lazy load so that environments that need to polyfill have a chance to do so\n    if (!$dc8d2f95093746a7$var$getRandomValues) {\n        // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n        $dc8d2f95093746a7$var$getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n        if (!$dc8d2f95093746a7$var$getRandomValues) throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n    }\n    return $dc8d2f95093746a7$var$getRandomValues($dc8d2f95093746a7$var$rnds8);\n}\n\n});\n\nparcelRegister(\"hlGJx\", function(module, exports) {\n\n$parcel$export(module.exports, \"unsafeStringify\", () => $ca158bd40230f94e$export$8fb373d660548968);\n\nvar $8XRGm = parcelRequire(\"8XRGm\");\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */ const $ca158bd40230f94e$var$byteToHex = [];\nfor(let i = 0; i < 256; ++i)$ca158bd40230f94e$var$byteToHex.push((i + 0x100).toString(16).slice(1));\nfunction $ca158bd40230f94e$export$8fb373d660548968(arr, offset = 0) {\n    // Note: Be careful editing this code!  It's been tuned for performance\n    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n    return $ca158bd40230f94e$var$byteToHex[arr[offset + 0]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 1]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 2]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 3]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 4]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 5]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 6]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 7]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 8]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 9]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 10]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 11]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 12]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 13]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 14]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 15]];\n}\nfunction $ca158bd40230f94e$var$stringify(arr, offset = 0) {\n    const uuid = $ca158bd40230f94e$export$8fb373d660548968(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n    // of the following:\n    // - One or more input array values don't map to a hex octet (leading to\n    // \"undefined\" in the uuid)\n    // - Invalid input values for the RFC `version` or `variant` fields\n    if (!(0, $8XRGm.default)(uuid)) throw TypeError(\"Stringified UUID is invalid\");\n    return uuid;\n}\nvar $ca158bd40230f94e$export$2e2bcd8739ae039 = $ca158bd40230f94e$var$stringify;\n\n});\nparcelRegister(\"8XRGm\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $686d79939c775394$export$2e2bcd8739ae039);\n\nvar $8r5l2 = parcelRequire(\"8r5l2\");\nfunction $686d79939c775394$var$validate(uuid) {\n    return typeof uuid === \"string\" && (0, $8r5l2.default).test(uuid);\n}\nvar $686d79939c775394$export$2e2bcd8739ae039 = $686d79939c775394$var$validate;\n\n});\nparcelRegister(\"8r5l2\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $6244fc70d0f17c3e$export$2e2bcd8739ae039);\nvar $6244fc70d0f17c3e$export$2e2bcd8739ae039 = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\n});\n\n\n\n\nparcelRegister(\"8aGfK\", function(module, exports) {\n\n$parcel$export(module.exports, \"create\", () => $0fd96d774458c65a$export$185802fd694ee1f5);\n// src/index.ts\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nfunction $0fd96d774458c65a$export$185802fd694ee1f5(opts) {\n    var _a, _b;\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") return null;\n    const canvas = (_a = opts == null ? void 0 : opts.canvas) != null ? _a : document.createElement(\"canvas\");\n    const dpr = window.devicePixelRatio;\n    const ctx = canvas.getContext(\"2d\", (_b = opts == null ? void 0 : opts.attributes) != null ? _b : {});\n    if (ctx == null) return null;\n    (0, $ckcgQ.setCanvasSize)({\n        canvas: canvas,\n        width: ctx.canvas.width,\n        height: ctx.canvas.height\n    });\n    ctx.scale(dpr, dpr);\n    return ctx;\n}\n\n});\n\n\n\n\nvar $fRwNr = parcelRequire(\"fRwNr\");\n\nvar $lx97N = parcelRequire(\"lx97N\");\n\nvar $jhfT6 = parcelRequire(\"jhfT6\");\n\nvar $lx97N = parcelRequire(\"lx97N\");\n\nvar $dQH5Y = parcelRequire(\"dQH5Y\");\n\nvar $fRwNr = parcelRequire(\"fRwNr\");\nvar $047711456d6e6005$var$__defProp = Object.defineProperty;\nvar $047711456d6e6005$var$__getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar $047711456d6e6005$var$__hasOwnProp = Object.prototype.hasOwnProperty;\nvar $047711456d6e6005$var$__propIsEnum = Object.prototype.propertyIsEnumerable;\nvar $047711456d6e6005$var$__defNormalProp = (obj, key, value)=>key in obj ? $047711456d6e6005$var$__defProp(obj, key, {\n        enumerable: true,\n        configurable: true,\n        writable: true,\n        value: value\n    }) : obj[key] = value;\nvar $047711456d6e6005$var$__spreadValues = (a, b)=>{\n    for(var prop in b || (b = {}))if ($047711456d6e6005$var$__hasOwnProp.call(b, prop)) $047711456d6e6005$var$__defNormalProp(a, prop, b[prop]);\n    if ($047711456d6e6005$var$__getOwnPropSymbols) {\n        for (var prop of $047711456d6e6005$var$__getOwnPropSymbols(b))if ($047711456d6e6005$var$__propIsEnum.call(b, prop)) $047711456d6e6005$var$__defNormalProp(a, prop, b[prop]);\n    }\n    return a;\n};\nvar $047711456d6e6005$var$applicationContext = /*#__PURE__*/ (0, $lx97N.createContext)(null);\nfunction $047711456d6e6005$export$d4bf0edbbddc8898({ children: children, app: app }) {\n    const [application, setApp] = (0, $lx97N.useState)(app != null ? app : null);\n    return /* @__PURE__ */ (0, $fRwNr.jsx)($047711456d6e6005$var$applicationContext.Provider, {\n        value: {\n            app: application,\n            setApp: setApp\n        },\n        children: children\n    });\n}\nfunction $047711456d6e6005$export$eef3e2c8cb25a94() {\n    const ctx = (0, $lx97N.useContext)($047711456d6e6005$var$applicationContext);\n    const canvas = (0, $lx97N.useRef)(null);\n    (0, $lx97N.useEffect)(()=>{\n        if (ctx == null) throw new Error(\"Sketch attachment must be a child of a sketch provider\");\n        if (canvas == null || canvas.current == null) return;\n        if (ctx.app == null) {\n            const app = (0, $dQH5Y.loop)({\n                canvas: canvas.current\n            });\n            app.start();\n            ctx.setApp(app);\n        } else ctx.app.start();\n        return ()=>{\n            if (ctx && ctx.app != null) ctx.app.dispose();\n        };\n    }, [\n        canvas,\n        ctx\n    ]);\n    return /* @__PURE__ */ (0, $fRwNr.jsx)(\"canvas\", {\n        ref: canvas\n    });\n}\nfunction $047711456d6e6005$export$ea7bba1837e9aed6() {\n    var _a;\n    const ctx = (0, $lx97N.useContext)($047711456d6e6005$var$applicationContext);\n    return (_a = ctx == null ? void 0 : ctx.app) != null ? _a : null;\n}\nfunction $047711456d6e6005$export$13cd8a13eebf141f(onTick) {\n    const app = $047711456d6e6005$export$ea7bba1837e9aed6();\n    (0, $lx97N.useEffect)(()=>{\n        if (app == null) return;\n        const unsubscribe = app.on({\n            type: \"tick\",\n            action: onTick\n        });\n        return ()=>{\n            unsubscribe();\n        };\n    }, [\n        onTick,\n        app\n    ]);\n}\nfunction $047711456d6e6005$export$cdbaa0411396c1c(onInteraction) {\n    const app = $047711456d6e6005$export$ea7bba1837e9aed6();\n    (0, $lx97N.useEffect)(()=>{\n        if (app == null) return;\n        const subscriptions = /* @__PURE__ */ new Set();\n        subscriptions.add(app.on({\n            type: \"pointerdown\",\n            action: $047711456d6e6005$var$createInteractionHandler(\"pointerdown\", onInteraction)\n        }));\n        subscriptions.add(app.on({\n            type: \"pointermove\",\n            action: $047711456d6e6005$var$createInteractionHandler(\"pointermove\", onInteraction)\n        }));\n        subscriptions.add(app.on({\n            type: \"pointerup\",\n            action: $047711456d6e6005$var$createInteractionHandler(\"pointerup\", onInteraction)\n        }));\n        return ()=>{\n            subscriptions.forEach((fn)=>fn());\n            subscriptions.clear();\n        };\n    }, [\n        onInteraction,\n        app\n    ]);\n}\nfunction $047711456d6e6005$var$createInteractionHandler(type, handler) {\n    return function interactionHandler(arg) {\n        if (handler != null) handler($047711456d6e6005$var$__spreadValues({\n            type: type\n        }, arg));\n    };\n}\nfunction $047711456d6e6005$export$371e310c1a93e3c(onResize) {\n    const app = $047711456d6e6005$export$ea7bba1837e9aed6();\n    (0, $lx97N.useEffect)(()=>{\n        if (app == null) return;\n        const unsubscribe = app.on({\n            type: \"resize\",\n            action: onResize\n        });\n        return ()=>{\n            unsubscribe();\n        };\n    }, [\n        onResize,\n        app\n    ]);\n}\n\n\nconst $d37577e24297bce2$var$container = document.querySelector(\".js-app\");\nconst $d37577e24297bce2$var$root = (0, $jhfT6.createRoot)($d37577e24297bce2$var$container);\n$d37577e24297bce2$var$root.render(/*#__PURE__*/ (0, $fRwNr.jsx)($d37577e24297bce2$var$App, {}));\nfunction $d37577e24297bce2$var$App() {\n    return /*#__PURE__*/ (0, $fRwNr.jsx)((0, $047711456d6e6005$export$d4bf0edbbddc8898), {\n        children: /*#__PURE__*/ (0, $fRwNr.jsxs)($d37577e24297bce2$var$Container, {\n            children: [\n                /*#__PURE__*/ (0, $fRwNr.jsx)($d37577e24297bce2$var$Sketch, {}),\n                /*#__PURE__*/ (0, $fRwNr.jsx)($d37577e24297bce2$var$Controls, {})\n            ]\n        })\n    });\n}\nfunction $d37577e24297bce2$var$Container({ children: children }) {\n    return /*#__PURE__*/ (0, $fRwNr.jsx)(\"div\", {\n        style: {\n            width: \"100vw\",\n            height: \"100vh\"\n        },\n        children: children\n    });\n}\nfunction $d37577e24297bce2$var$Sketch() {\n    (0, $047711456d6e6005$export$13cd8a13eebf141f)($d37577e24297bce2$var$render);\n    return /*#__PURE__*/ (0, $fRwNr.jsx)((0, $047711456d6e6005$export$eef3e2c8cb25a94), {});\n}\nfunction $d37577e24297bce2$var$Controls() {\n    const app = (0, $047711456d6e6005$export$ea7bba1837e9aed6)();\n    const [isRunning, setIsRunning] = (0, $lx97N.useState)(true);\n    return /*#__PURE__*/ (0, $fRwNr.jsxs)(\"div\", {\n        className: \"overlay md absolute top-right\",\n        children: [\n            /*#__PURE__*/ (0, $fRwNr.jsx)(\"button\", {\n                disabled: app == null,\n                onClick: ()=>{\n                    if (app == null) return;\n                    if (isRunning) app.stop();\n                    else app.start();\n                    setIsRunning(app.isRunning);\n                },\n                children: isRunning ? \"Pause\" : \"Resume\"\n            }),\n            /*#__PURE__*/ (0, $fRwNr.jsx)($d37577e24297bce2$var$InteractionTrace, {}),\n            /*#__PURE__*/ (0, $fRwNr.jsx)($d37577e24297bce2$var$ResizeTrace, {})\n        ]\n    });\n}\nfunction $d37577e24297bce2$var$InteractionTrace() {\n    const [position, setPosition] = (0, $lx97N.useState)([\n        0,\n        0\n    ]);\n    const [type, setType] = (0, $lx97N.useState)(null);\n    (0, $047711456d6e6005$export$cdbaa0411396c1c)(({ type: type, app: app, point: point })=>{\n        setPosition([\n            point.x,\n            point.y\n        ]);\n        setType(type);\n    });\n    return /*#__PURE__*/ (0, $fRwNr.jsxs)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0, $fRwNr.jsx)(\"div\", {\n                className: \"spacer-md\"\n            }),\n            /*#__PURE__*/ (0, $fRwNr.jsxs)(\"p\", {\n                className: \"text\",\n                children: [\n                    \"Type: \",\n                    type\n                ]\n            }),\n            /*#__PURE__*/ (0, $fRwNr.jsxs)(\"p\", {\n                className: \"text\",\n                children: [\n                    \"Position: [\",\n                    position[0].toFixed(2),\n                    \", \",\n                    position[1].toFixed(2),\n                    \"]\"\n                ]\n            })\n        ]\n    });\n}\nfunction $d37577e24297bce2$var$ResizeTrace() {\n    const [size, setSize] = (0, $lx97N.useState)([\n        0,\n        0\n    ]);\n    (0, $047711456d6e6005$export$371e310c1a93e3c)(({ app: app, width: width, height: height })=>{\n        setSize([\n            width,\n            height\n        ]);\n    });\n    return /*#__PURE__*/ (0, $fRwNr.jsxs)(\"div\", {\n        children: [\n            /*#__PURE__*/ (0, $fRwNr.jsx)(\"div\", {\n                className: \"spacer-md\"\n            }),\n            /*#__PURE__*/ (0, $fRwNr.jsxs)(\"p\", {\n                className: \"text\",\n                children: [\n                    \"Size: [\",\n                    size[0].toFixed(2),\n                    \", \",\n                    size[1].toFixed(2),\n                    \"]\"\n                ]\n            })\n        ]\n    });\n}\nlet $d37577e24297bce2$var$time = 0;\nfunction $d37577e24297bce2$var$render({ app: app, dt: dt }) {\n    $d37577e24297bce2$var$time = $d37577e24297bce2$var$time + dt / 500;\n    const padding = 16;\n    const gradient = app.ctx.createLinearGradient(0, app.ctx.canvas.height * 0.85, app.ctx.canvas.width, app.ctx.canvas.height * 0.25);\n    gradient.addColorStop(0, \"#85ffbd\");\n    gradient.addColorStop(1, \"#fffb7d\");\n    app.ctx.fillStyle = gradient;\n    app.ctx.fillRect(0 + padding, 0 + padding, app.ctx.canvas.width - padding * 2, app.ctx.canvas.height - padding * 2);\n    app.ctx.beginPath();\n    app.ctx.strokeStyle = \"#484442\";\n    app.ctx.lineWidth = 4;\n    app.ctx.arc(app.canvas.width * 0.5, app.canvas.height * 0.5, Math.min(app.canvas.width, app.canvas.height) * 0.25 * (1 + Math.sin($d37577e24297bce2$var$time) * 0.2), 0, Math.PI * 2);\n    app.ctx.stroke();\n}\n\n\n//# sourceMappingURL=index.1b4d1316.js.map\n","// src/index.ts\nimport { attach } from \"sketch-attach\";\nimport {\n  withTick,\n  withResize,\n  withInteraction,\n  CtxApplication\n} from \"sketch-application\";\nfunction loop(opts) {\n  const { canvas } = attach(opts);\n  return new Application(canvas);\n}\nvar Application = withInteraction(withTick(withResize(CtxApplication)));\nexport {\n  Application,\n  loop\n};\n","// src/index.ts\nimport { create } from \"sketch-canvas\";\nfunction attach(opts) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    throw new Error(\"Can not attach canvas\");\n  }\n  const canvas = (opts == null ? void 0 : opts.canvas) || create();\n  const container = (opts == null ? void 0 : opts.container) || canvas.parentElement;\n  if (container == null) {\n    throw new Error(\n      \"Must supply a container to attach the canvas to if not already appended\"\n    );\n  }\n  container.appendChild(canvas);\n  canvas.style.display = \"block\";\n  return {\n    canvas,\n    container\n  };\n}\nexport {\n  attach\n};\n","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  var _a, _b;\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    throw new Error(\"Can not create canvas element\");\n  }\n  const canvas = document.createElement(\"canvas\");\n  const width = (_a = opts == null ? void 0 : opts.width) != null ? _a : canvas.width;\n  const height = (_b = opts == null ? void 0 : opts.height) != null ? _b : canvas.height;\n  canvas.style.userSelect = \"none\";\n  canvas.onselectstart = () => false;\n  setCanvasSize({\n    canvas,\n    width,\n    height\n  });\n  return canvas;\n}\nexport {\n  create\n};\n","// src/index.ts\nfunction setCanvasSize(opts) {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"Can not access window\");\n  }\n  const dpr = window.devicePixelRatio;\n  opts.canvas.width = opts.width;\n  opts.canvas.height = opts.height;\n  return setCanvasDpr({\n    canvas: opts.canvas,\n    dpr\n  });\n}\nfunction setCanvasDpr(opts) {\n  const canvas = opts.canvas;\n  const width = canvas.width;\n  const height = canvas.height;\n  canvas.width = width * opts.dpr;\n  canvas.height = height * opts.dpr;\n  canvas.style.width = width + \"px\";\n  canvas.style.height = height + \"px\";\n  return canvas;\n}\nexport {\n  setCanvasDpr,\n  setCanvasSize\n};\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/application.ts\nimport { v4 as uuid } from \"uuid\";\nimport { create as createContext } from \"sketch-context\";\nvar BaseApplication = class {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this._events = /* @__PURE__ */ new Map();\n    this._disposers = /* @__PURE__ */ new Set();\n  }\n  on(event) {\n    const id = uuid();\n    if (!this._events.has(event.type)) {\n      this._events.set(event.type, /* @__PURE__ */ new Map());\n    }\n    const map = this._events.get(event.type);\n    if (map == null) {\n      throw new Error(`Can not get event map for ${event.type}`);\n    }\n    map.set(id, event.action);\n    return () => {\n      map.delete(id);\n    };\n  }\n  dispose() {\n    for (let fn of this._disposers) {\n      fn();\n    }\n  }\n};\nvar CtxApplication = class extends BaseApplication {\n  constructor(canvas) {\n    super(canvas);\n    const ctx = createContext({ canvas: this.canvas });\n    if (ctx == null) {\n      throw new Error(\"Erroring creating context\");\n    }\n    this.ctx = ctx;\n  }\n};\n\n// src/mixins/resize.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction withResize(Base) {\n  var _a;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n      const resizeObserver = new ResizeObserver((entries) => {\n        const map = this._events.get(_a.mapKey);\n        for (const entry of entries) {\n          const cr = entry.contentRect;\n          setCanvasSize({\n            canvas: this.canvas,\n            width: cr.width,\n            height: cr.height\n          });\n          if (map != null) {\n            for (let [_, fn] of map) {\n              fn({\n                app: this,\n                width: cr.width,\n                height: cr.height\n              });\n            }\n          }\n          if (this._events.has(\"tick\")) {\n            const m = this._events.get(\"tick\");\n            if (m != null) {\n              for (let [_, fn] of m) {\n                fn({\n                  dt: 0,\n                  app: this\n                });\n              }\n            }\n          }\n        }\n      });\n      const container = this.canvas.parentElement;\n      if (container != null) {\n        resizeObserver.observe(container);\n      }\n      this._disposers.add(() => {\n        resizeObserver.disconnect();\n      });\n    }\n  }, // Had to remove as typing for the class did not match with the return type\n  _a.mapKey = \"resize\", _a;\n}\n\n// src/mixins/tick.ts\nfunction withTick(Base) {\n  var _a, _last, _tickID, _tick;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      __privateAdd(this, _last, void 0);\n      __privateAdd(this, _tickID, void 0);\n      this.isRunning = false;\n      __privateAdd(this, _tick, () => {\n        if (this.isRunning === false) {\n          return;\n        }\n        const map = this._events.get(_a.mapKey);\n        if (map != null) {\n          const now = window.performance.now();\n          for (let [_, fn] of map) {\n            fn({\n              dt: now - __privateGet(this, _last),\n              app: this\n            });\n          }\n          __privateSet(this, _last, now);\n        }\n        __privateSet(this, _tickID, window.requestAnimationFrame(__privateGet(this, _tick)));\n      });\n      __privateSet(this, _tickID, null);\n      __privateSet(this, _last, window.performance.now());\n      this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n      this._disposers.add(() => {\n        if (__privateGet(this, _tickID)) {\n          window.cancelAnimationFrame(__privateGet(this, _tickID));\n        }\n      });\n    }\n    start() {\n      this.isRunning = true;\n      __privateSet(this, _last, window.performance.now());\n      __privateGet(this, _tick).call(this);\n    }\n    stop() {\n      this.isRunning = false;\n    }\n  }, _last = new WeakMap(), _tickID = new WeakMap(), _tick = new WeakMap(), _a.mapKey = \"tick\", _a;\n}\n\n// src/mixins/interaction.ts\nfunction withInteraction(Base) {\n  var _onPointerdown, _onPointerup, _onPointermove, _a;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      __privateAdd(this, _onPointerdown, (event) => {\n        const map = this._events.get(\"pointerdown\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.offsetX * scale, y: event.offsetY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      __privateAdd(this, _onPointerup, (event) => {\n        const map = this._events.get(\"pointerup\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.offsetX * scale, y: event.offsetY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      __privateAdd(this, _onPointermove, (event) => {\n        const map = this._events.get(\"pointermove\");\n        const scale = window.devicePixelRatio;\n        const c = this.canvas;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.offsetX * scale, y: event.offsetY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      this._events.set(\"pointerdown\", /* @__PURE__ */ new Map());\n      this._events.set(\"pointerup\", /* @__PURE__ */ new Map());\n      this._events.set(\"pointermove\", /* @__PURE__ */ new Map());\n      this.canvas.addEventListener(\"pointerdown\", __privateGet(this, _onPointerdown));\n      this.canvas.addEventListener(\"pointerup\", __privateGet(this, _onPointerup));\n      this.canvas.addEventListener(\"pointermove\", __privateGet(this, _onPointermove));\n      this._disposers.add(() => {\n        this.canvas.removeEventListener(\"pointerdown\", __privateGet(this, _onPointerdown));\n        this.canvas.removeEventListener(\"pointerup\", __privateGet(this, _onPointerup));\n        this.canvas.removeEventListener(\"pointermove\", __privateGet(this, _onPointermove));\n      });\n    }\n  }, _onPointerdown = new WeakMap(), _onPointerup = new WeakMap(), _onPointermove = new WeakMap(), _a;\n}\nexport {\n  BaseApplication,\n  CtxApplication,\n  withInteraction,\n  withResize,\n  withTick\n};\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  var _a, _b;\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    return null;\n  }\n  const canvas = (_a = opts == null ? void 0 : opts.canvas) != null ? _a : document.createElement(\"canvas\");\n  const dpr = window.devicePixelRatio;\n  const ctx = canvas.getContext(\"2d\", (_b = opts == null ? void 0 : opts.attributes) != null ? _b : {});\n  if (ctx == null) {\n    return null;\n  }\n  setCanvasSize({\n    canvas,\n    width: ctx.canvas.width,\n    height: ctx.canvas.height\n  });\n  ctx.scale(dpr, dpr);\n  return ctx;\n}\nexport {\n  create\n};\n","import * as React from 'react'\nimport {useState} from 'react'\nimport type {\n  TickHandler,\n  InteractionAction,\n  ApplicationInstance,\n} from 'sketch-react-app'\n\nimport {createRoot} from 'react-dom/client'\nimport {\n  SketchProvider,\n  SketchAttachment,\n  useSketchApp,\n  useSketchTick,\n  useSketchInteraction,\n  useSketchResize,\n} from 'sketch-react-app'\n\nconst container = document.querySelector('.js-app') as HTMLElement\nconst root = createRoot(container)\nroot.render(<App />)\n\nfunction App() {\n  return (\n    <SketchProvider>\n      <Container>\n        <Sketch />\n        <Controls />\n      </Container>\n    </SketchProvider>\n  )\n}\n\nfunction Container({children}: {children: React.ReactNode}) {\n  return <div style={{width: '100vw', height: '100vh'}}>{children}</div>\n}\n\nfunction Sketch() {\n  useSketchTick(render)\n  return <SketchAttachment />\n}\n\nfunction Controls() {\n  const app = useSketchApp()\n  const [isRunning, setIsRunning] = useState(true)\n\n  return (\n    <div className='overlay md absolute top-right'>\n      <button\n        disabled={app == null}\n        onClick={() => {\n          if (app == null) {\n            return\n          }\n\n          if (isRunning) {\n            app.stop()\n          } else {\n            app.start()\n          }\n\n          setIsRunning(app.isRunning)\n        }}>\n        {isRunning ? 'Pause' : 'Resume'}\n      </button>\n      <InteractionTrace />\n      <ResizeTrace />\n    </div>\n  )\n}\n\nfunction InteractionTrace() {\n  const [position, setPosition] = useState([0, 0])\n  const [type, setType] = useState<\n    Parameters<InteractionAction>[0]['type'] | null\n  >(null)\n  useSketchInteraction(\n    ({type, app, point}: Parameters<InteractionAction>[0]) => {\n      setPosition([point.x, point.y])\n      setType(type)\n    }\n  )\n\n  return (\n    <div>\n      <div className='spacer-md'></div>\n      <p className='text'>Type: {type}</p>\n      <p className='text'>\n        Position: [{position[0].toFixed(2)}, {position[1].toFixed(2)}]\n      </p>\n    </div>\n  )\n}\n\nfunction ResizeTrace() {\n  const [size, setSize] = useState<[number, number]>([0, 0])\n  useSketchResize(({app, width, height}) => {\n    setSize([width, height])\n  })\n\n  return (\n    <div>\n      <div className='spacer-md'></div>\n      <p className='text'>\n        Size: [{size[0].toFixed(2)}, {size[1].toFixed(2)}]\n      </p>\n    </div>\n  )\n}\n\nlet time = 0\nfunction render({app, dt}: Parameters<TickHandler<ApplicationInstance>>[0]) {\n  time = time + dt / 500\n\n  const padding = 16\n  const gradient = app.ctx.createLinearGradient(\n    0,\n    app.ctx.canvas.height * 0.85,\n    app.ctx.canvas.width,\n    app.ctx.canvas.height * 0.25\n  )\n  gradient.addColorStop(0, '#85ffbd')\n  gradient.addColorStop(1, '#fffb7d')\n  app.ctx.fillStyle = gradient\n  app.ctx.fillRect(\n    0 + padding,\n    0 + padding,\n    app.ctx.canvas.width - padding * 2,\n    app.ctx.canvas.height - padding * 2\n  )\n\n  app.ctx.beginPath()\n  app.ctx.strokeStyle = '#484442'\n  app.ctx.lineWidth = 4\n  app.ctx.arc(\n    app.canvas.width * 0.5,\n    app.canvas.height * 0.5,\n    Math.min(app.canvas.width, app.canvas.height) *\n      0.25 *\n      (1 + Math.sin(time) * 0.2),\n    0,\n    Math.PI * 2\n  )\n  app.ctx.stroke()\n}\n","var __defProp = Object.defineProperty;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\n\n// src/index.tsx\nimport { createContext, useContext, useEffect, useRef, useState } from \"react\";\nimport { loop } from \"sketch-loop\";\nimport { jsx } from \"react/jsx-runtime\";\nvar applicationContext = createContext(null);\nfunction SketchProvider({\n  children,\n  app\n}) {\n  const [application, setApp] = useState(\n    app != null ? app : null\n  );\n  return /* @__PURE__ */ jsx(\n    applicationContext.Provider,\n    {\n      value: {\n        app: application,\n        setApp\n      },\n      children\n    }\n  );\n}\nfunction SketchAttachment() {\n  const ctx = useContext(applicationContext);\n  const canvas = useRef(null);\n  useEffect(() => {\n    if (ctx == null) {\n      throw new Error(\"Sketch attachment must be a child of a sketch provider\");\n    }\n    if (canvas == null || canvas.current == null) {\n      return;\n    }\n    if (ctx.app == null) {\n      const app = loop({ canvas: canvas.current });\n      app.start();\n      ctx.setApp(app);\n    } else {\n      ctx.app.start();\n    }\n    return () => {\n      if (ctx && ctx.app != null) {\n        ctx.app.dispose();\n      }\n    };\n  }, [canvas, ctx]);\n  return /* @__PURE__ */ jsx(\"canvas\", { ref: canvas });\n}\nfunction useSketchApp() {\n  var _a;\n  const ctx = useContext(applicationContext);\n  return (_a = ctx == null ? void 0 : ctx.app) != null ? _a : null;\n}\nfunction useSketchTick(onTick) {\n  const app = useSketchApp();\n  useEffect(() => {\n    if (app == null) {\n      return;\n    }\n    const unsubscribe = app.on({\n      type: \"tick\",\n      action: onTick\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, [onTick, app]);\n}\nfunction useSketchInteraction(onInteraction) {\n  const app = useSketchApp();\n  useEffect(() => {\n    if (app == null) {\n      return;\n    }\n    const subscriptions = /* @__PURE__ */ new Set();\n    subscriptions.add(\n      app.on({\n        type: \"pointerdown\",\n        action: createInteractionHandler(\"pointerdown\", onInteraction)\n      })\n    );\n    subscriptions.add(\n      app.on({\n        type: \"pointermove\",\n        action: createInteractionHandler(\"pointermove\", onInteraction)\n      })\n    );\n    subscriptions.add(\n      app.on({\n        type: \"pointerup\",\n        action: createInteractionHandler(\"pointerup\", onInteraction)\n      })\n    );\n    return () => {\n      subscriptions.forEach((fn) => fn());\n      subscriptions.clear();\n    };\n  }, [onInteraction, app]);\n}\nfunction createInteractionHandler(type, handler) {\n  return function interactionHandler(arg) {\n    if (handler != null) {\n      handler(__spreadValues({\n        type\n      }, arg));\n    }\n  };\n}\nfunction useSketchResize(onResize) {\n  const app = useSketchApp();\n  useEffect(() => {\n    if (app == null) {\n      return;\n    }\n    const unsubscribe = app.on({\n      type: \"resize\",\n      action: onResize\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, [onResize, app]);\n}\nexport {\n  SketchAttachment,\n  SketchProvider,\n  useSketchApp,\n  useSketchInteraction,\n  useSketchResize,\n  useSketchTick\n};\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$3609002d17f8ee44$export$f9ef67375ddc185","$io0Tf","$7XNOC","opts","canvas","attach","$3609002d17f8ee44$export$16975c34e60e1e61","withInteraction","withTick","withResize","CtxApplication","$a9d113484ce60425$export$5ddf9e484e541d6f","$bW9gS","window","document","create","container","parentElement","appendChild","style","display","$86c4614c5abb1ea1$export$185802fd694ee1f5","$ckcgQ","_a","_b","createElement","width","height","userSelect","onselectstart","setCanvasSize","$7e6ea443c67680a4$export$e3aebd8246ac72dc","dpr","devicePixelRatio","$7e6ea443c67680a4$export$efd52609a467c022","$630e86ce1a69e605$export$8ea6436d101f2919","$630e86ce1a69e605$export$1aad3252b0fb68b7","$630e86ce1a69e605$export$9ea7e8544c962ee3","$630e86ce1a69e605$export$47a154e7626f0372","$630e86ce1a69e605$export$a8e01dbf0a30f22","$k6Cub","$8aGfK","$630e86ce1a69e605$var$__accessCheck","obj","member","msg","has","TypeError","$630e86ce1a69e605$var$__privateGet","getter","$630e86ce1a69e605$var$__privateAdd","value","WeakSet","add","$630e86ce1a69e605$var$__privateSet","setter","constructor","_events","Map","_disposers","Set","on","event","default","type","map","action","delete","dispose","fn","ctx","Base","args","mapKey","resizeObserver","ResizeObserver","entries","entry","cr","contentRect","_","app","m","dt","observe","disconnect","_last","_tickID","_tick","isRunning","now","performance","requestAnimationFrame","cancelAnimationFrame","start","stop","WeakMap","_onPointerdown","_onPointerup","_onPointermove","scale","point","x","offsetX","y","offsetY","addEventListener","removeEventListener","$ea3238afc6b56ea1$export$2e2bcd8739ae039","$jnvTw","$iVZpt","$hlGJx","options","buf","offset","randomUUID","rnds","random","rng","i","unsafeStringify","$e1b8e7e3b637d75b$export$2e2bcd8739ae039","$e1b8e7e3b637d75b$var$randomUUID","crypto","bind","$dc8d2f95093746a7$var$getRandomValues","$dc8d2f95093746a7$export$2e2bcd8739ae039","$dc8d2f95093746a7$var$rnds8","Uint8Array","getRandomValues","$ca158bd40230f94e$export$8fb373d660548968","$ca158bd40230f94e$var$byteToHex","push","toString","slice","arr","$686d79939c775394$export$2e2bcd8739ae039","$8r5l2","uuid","test","$6244fc70d0f17c3e$export$2e2bcd8739ae039","$0fd96d774458c65a$export$185802fd694ee1f5","getContext","attributes","$fRwNr","$lx97N","$jhfT6","$dQH5Y","$047711456d6e6005$var$__defProp","$047711456d6e6005$var$__getOwnPropSymbols","getOwnPropertySymbols","$047711456d6e6005$var$__hasOwnProp","prototype","hasOwnProperty","$047711456d6e6005$var$__propIsEnum","propertyIsEnumerable","$047711456d6e6005$var$__defNormalProp","key","writable","$047711456d6e6005$var$__spreadValues","a","b","prop","$047711456d6e6005$var$applicationContext","createContext","$047711456d6e6005$export$d4bf0edbbddc8898","children","application","setApp","useState","jsx","Provider","$047711456d6e6005$export$eef3e2c8cb25a94","useContext","useRef","useEffect","current","loop","ref","$047711456d6e6005$export$ea7bba1837e9aed6","$047711456d6e6005$var$createInteractionHandler","handler","arg","$d37577e24297bce2$var$container","querySelector","$d37577e24297bce2$var$root","createRoot","$d37577e24297bce2$var$Container","$d37577e24297bce2$var$Sketch","onTick","unsubscribe","$d37577e24297bce2$var$render","$d37577e24297bce2$var$Controls","setIsRunning","jsxs","className","disabled","onClick","$d37577e24297bce2$var$InteractionTrace","$d37577e24297bce2$var$ResizeTrace","position","setPosition","setType","onInteraction","subscriptions","forEach","clear","toFixed","size","setSize","onResize","render","$d37577e24297bce2$var$time","gradient","createLinearGradient","addColorStop","fillStyle","fillRect","padding","beginPath","strokeStyle","lineWidth","arc","Math","min","sin","PI","stroke"],"version":3,"file":"index.1b4d1316.js.map"}