{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,ImBAK,E,E,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,W,I,E,A,G,E,GlBEL,IAgBA,EAhBI,EAAU,IAAI,IAgBlB,EAfA,SAAkB,CAAO,CAAE,CAAQ,EACjC,IAAK,IAAI,EAAI,EAAG,EAAI,EAAS,MAAM,CAAG,EAAG,GAAK,EAC5C,EAAQ,GAAG,CAAC,CAAQ,CAAC,EAAE,CAAE,CACvB,QAAS,EACT,KAAM,CAAQ,CAAC,EAAI,EAAE,AACvB,EAEJ,C,G,E,Q,S,C,C,C,E,E,E,O,C,iB,I,G,E,E,O,C,mB,I,G,E,E,O,C,e,I,ECVA,iBAAgB;A,I,E,E,S,E,E,S,E,E,SAIZ,EAAqB,AAArB,WAAA,EAAqB,CAAA,EAAA,EAAA,aAAY,AAAZ,EAAc,MACvC,SAAS,EAAe,CAAA,SACtB,CAAQ,CAAA,IACR,CAAG,CACJ,EACC,GAAM,CAAC,EAAa,EAAO,CAAG,AAAA,CAAA,EAAA,EAAA,QAAO,AAAP,EAC5B,AAAO,MAAP,EAAc,EAAM,MAEtB,MAAuB,AAAhB,aAAa,EAAG,CAAA,EAAA,EAAA,GAAE,AAAF,EACrB,EAAmB,QAAQ,CAC3B,CACE,MAAO,CACL,IAAK,EACL,OAAA,CACF,EACA,SAAA,CACF,EAEJ,CACA,SAAS,IACP,IAAM,EAAM,AAAA,CAAA,EAAA,EAAA,UAAS,AAAT,EAAW,GACjB,EAAS,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,MAqBtB,MApBA,AAAA,CAAA,EAAA,EAAA,SAAQ,AAAR,EAAU,KACR,GAAI,AAAO,MAAP,EACF,MAAM,AAAI,MAAM,0DAElB,GAAI,AAAU,MAAV,GAAkB,AAAkB,MAAlB,EAAO,OAAO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","sources":["<anon>","node_modules/.pnpm/@parcel+runtime-js@2.10.3_@parcel+core@2.10.3/node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","packages/sketch-react-pixi/lib/index.mjs","node_modules/.pnpm/@parcel+runtime-js@2.10.3_@parcel+core@2.10.3/node_modules/@parcel/runtime-js/lib/runtime-59211e132c79e93e.js","packages/sketch-canvas-size/lib/index.mjs","packages/sketch-canvas/lib/index.mjs","packages/sketch-context/lib/index.mjs","packages/sketch-attach/lib/index.mjs","packages/sketch-application/lib/index.mjs","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/v4.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/native.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/rng.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/stringify.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/validate.js","node_modules/.pnpm/uuid@9.0.1/node_modules/uuid/dist/esm-browser/regex.js","node_modules/.pnpm/@parcel+runtime-js@2.10.3_@parcel+core@2.10.3/node_modules/@parcel/runtime-js/lib/runtime-0e198f7c5d04c21f.js","apps/examples/pages/react-pixi-textures/react-pixi-textures.tsx","apps/examples/pages/react-pixi-textures/errorBoundary.tsx","apps/examples/pages/react-pixi-textures/textureLoader.tsx","apps/examples/pages/react-pixi-textures/resource.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireedcf\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireedcf\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"eMICP\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $ac382a038c05710f$export$6503ec6e8aabbaf, (v) => $ac382a038c05710f$export$6503ec6e8aabbaf = v);\nvar $ac382a038c05710f$export$6503ec6e8aabbaf;\nvar $ac382a038c05710f$export$f7ad0328861e2f03;\n\"use strict\";\nvar $ac382a038c05710f$var$mapping = new Map();\nfunction $ac382a038c05710f$var$register(baseUrl, manifest) {\n    for(var i = 0; i < manifest.length - 1; i += 2)$ac382a038c05710f$var$mapping.set(manifest[i], {\n        baseUrl: baseUrl,\n        path: manifest[i + 1]\n    });\n}\nfunction $ac382a038c05710f$var$resolve(id) {\n    var resolved = $ac382a038c05710f$var$mapping.get(id);\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return new URL(resolved.path, resolved.baseUrl).toString();\n}\n$ac382a038c05710f$export$6503ec6e8aabbaf = $ac382a038c05710f$var$register;\n$ac382a038c05710f$export$f7ad0328861e2f03 = $ac382a038c05710f$var$resolve;\n\n});\n\nparcelRegister(\"8dEFu\", function(module, exports) {\n\n$parcel$export(module.exports, \"SketchProvider\", () => $fcaee89a98dbbe80$export$d4bf0edbbddc8898);\n$parcel$export(module.exports, \"SketchAttachment\", () => $fcaee89a98dbbe80$export$eef3e2c8cb25a94);\n$parcel$export(module.exports, \"useSketchApp\", () => $fcaee89a98dbbe80$export$ea7bba1837e9aed6);\n// src/index.tsx\n\nvar $lx97N = parcelRequire(\"lx97N\");\n\nvar $bIxrZ = parcelRequire(\"bIxrZ\");\n\nvar $fRwNr = parcelRequire(\"fRwNr\");\nvar $fcaee89a98dbbe80$var$applicationContext = /*#__PURE__*/ (0, $lx97N.createContext)(null);\nfunction $fcaee89a98dbbe80$export$d4bf0edbbddc8898({ children: children, app: app }) {\n    const [application, setApp] = (0, $lx97N.useState)(app != null ? app : null);\n    return /* @__PURE__ */ (0, $fRwNr.jsx)($fcaee89a98dbbe80$var$applicationContext.Provider, {\n        value: {\n            app: application,\n            setApp: setApp\n        },\n        children: children\n    });\n}\nfunction $fcaee89a98dbbe80$export$eef3e2c8cb25a94() {\n    const ctx = (0, $lx97N.useContext)($fcaee89a98dbbe80$var$applicationContext);\n    const canvas = (0, $lx97N.useRef)(null);\n    (0, $lx97N.useEffect)(()=>{\n        if (ctx == null) throw new Error(\"Sketch attachment must be a child of a sketch provider\");\n        if (canvas == null || canvas.current == null) return;\n        if (ctx.app == null) {\n            const app = (0, $bIxrZ.sketch)({\n                canvas: canvas.current\n            });\n            app.start();\n            ctx.setApp(app);\n        } else ctx.app.start();\n        return ()=>{\n            if (ctx && ctx.app != null) ctx.app.dispose();\n        };\n    }, [\n        canvas,\n        ctx\n    ]);\n    return /* @__PURE__ */ (0, $fRwNr.jsx)(\"canvas\", {\n        ref: canvas\n    });\n}\nfunction $fcaee89a98dbbe80$export$ea7bba1837e9aed6() {\n    var _a;\n    const ctx = (0, $lx97N.useContext)($fcaee89a98dbbe80$var$applicationContext);\n    return (_a = ctx == null ? void 0 : ctx.app) != null ? _a : null;\n}\nfunction $fcaee89a98dbbe80$export$13cd8a13eebf141f(onTick) {\n    const app = $fcaee89a98dbbe80$export$ea7bba1837e9aed6();\n    (0, $lx97N.useEffect)(()=>{\n        if (app == null) return;\n        const unsubscribe = app.on({\n            type: \"tick\",\n            action: onTick\n        });\n        return ()=>{\n            unsubscribe();\n        };\n    }, [\n        onTick,\n        app\n    ]);\n}\n\n});\n\nparcelRegister(\"g7WLf\", function(module, exports) {\nmodule.exports = new URL(\"../tiles.39e5b41c.webp\", import.meta.url).toString();\n\n});\n\nparcelRegister(\"ckcgQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"setCanvasSize\", () => $7e6ea443c67680a4$export$e3aebd8246ac72dc);\n$parcel$export(module.exports, \"setCanvasDpr\", () => $7e6ea443c67680a4$export$efd52609a467c022);\n// src/index.ts\nfunction $7e6ea443c67680a4$export$e3aebd8246ac72dc(opts) {\n    if (typeof window === \"undefined\") throw new Error(\"Can not access window\");\n    const dpr = window.devicePixelRatio;\n    opts.canvas.width = opts.width;\n    opts.canvas.height = opts.height;\n    return $7e6ea443c67680a4$export$efd52609a467c022({\n        canvas: opts.canvas,\n        dpr: dpr\n    });\n}\nfunction $7e6ea443c67680a4$export$efd52609a467c022(opts) {\n    const canvas = opts.canvas;\n    const width = canvas.width;\n    const height = canvas.height;\n    canvas.width = width * opts.dpr;\n    canvas.height = height * opts.dpr;\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n    return canvas;\n}\n\n});\n\nparcelRegister(\"bW9gS\", function(module, exports) {\n\n$parcel$export(module.exports, \"create\", () => $86c4614c5abb1ea1$export$185802fd694ee1f5);\n// src/index.ts\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nfunction $86c4614c5abb1ea1$export$185802fd694ee1f5(opts) {\n    var _a, _b;\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") throw new Error(\"Can not create canvas element\");\n    const canvas = document.createElement(\"canvas\");\n    const width = (_a = opts == null ? void 0 : opts.width) != null ? _a : canvas.width;\n    const height = (_b = opts == null ? void 0 : opts.height) != null ? _b : canvas.height;\n    canvas.style.userSelect = \"none\";\n    canvas.onselectstart = ()=>false;\n    (0, $ckcgQ.setCanvasSize)({\n        canvas: canvas,\n        width: width,\n        height: height\n    });\n    return canvas;\n}\n\n});\n\nparcelRegister(\"8aGfK\", function(module, exports) {\n\n$parcel$export(module.exports, \"create\", () => $0fd96d774458c65a$export$185802fd694ee1f5);\n// src/index.ts\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nfunction $0fd96d774458c65a$export$185802fd694ee1f5(opts) {\n    var _a, _b;\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") return null;\n    const canvas = (_a = opts == null ? void 0 : opts.canvas) != null ? _a : document.createElement(\"canvas\");\n    const dpr = window.devicePixelRatio;\n    const ctx = canvas.getContext(\"2d\", (_b = opts == null ? void 0 : opts.attributes) != null ? _b : {});\n    if (ctx == null) return null;\n    (0, $ckcgQ.setCanvasSize)({\n        canvas: canvas,\n        width: ctx.canvas.width,\n        height: ctx.canvas.height\n    });\n    ctx.scale(dpr, dpr);\n    return ctx;\n}\n\n});\n\nparcelRegister(\"io0Tf\", function(module, exports) {\n\n$parcel$export(module.exports, \"attach\", () => $a9d113484ce60425$export$5ddf9e484e541d6f);\n// src/index.ts\n\nvar $bW9gS = parcelRequire(\"bW9gS\");\nfunction $a9d113484ce60425$export$5ddf9e484e541d6f(opts) {\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") throw new Error(\"Can not attach canvas\");\n    const canvas = (opts == null ? void 0 : opts.canvas) || (0, $bW9gS.create)();\n    const container = (opts == null ? void 0 : opts.container) || canvas.parentElement;\n    if (container == null) throw new Error(\"Must supply a container to attach the canvas to if not already appended\");\n    container.appendChild(canvas);\n    canvas.style.display = \"block\";\n    return {\n        canvas: canvas,\n        container: container\n    };\n}\n\n});\n\nparcelRegister(\"7XNOC\", function(module, exports) {\n\n$parcel$export(module.exports, \"BaseApplication\", () => $630e86ce1a69e605$export$8ea6436d101f2919);\n$parcel$export(module.exports, \"CtxApplication\", () => $630e86ce1a69e605$export$1aad3252b0fb68b7);\n$parcel$export(module.exports, \"withResize\", () => $630e86ce1a69e605$export$9ea7e8544c962ee3);\n$parcel$export(module.exports, \"withTick\", () => $630e86ce1a69e605$export$47a154e7626f0372);\n$parcel$export(module.exports, \"withInteraction\", () => $630e86ce1a69e605$export$a8e01dbf0a30f22);\n\nvar $k6Cub = parcelRequire(\"k6Cub\");\n\nvar $8aGfK = parcelRequire(\"8aGfK\");\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nvar $630e86ce1a69e605$var$__accessCheck = (obj, member, msg)=>{\n    if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar $630e86ce1a69e605$var$__privateGet = (obj, member, getter)=>{\n    $630e86ce1a69e605$var$__accessCheck(obj, member, \"read from private field\");\n    return getter ? getter.call(obj) : member.get(obj);\n};\nvar $630e86ce1a69e605$var$__privateAdd = (obj, member, value)=>{\n    if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n    member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar $630e86ce1a69e605$var$__privateSet = (obj, member, value, setter)=>{\n    $630e86ce1a69e605$var$__accessCheck(obj, member, \"write to private field\");\n    setter ? setter.call(obj, value) : member.set(obj, value);\n    return value;\n};\nvar $630e86ce1a69e605$export$8ea6436d101f2919 = class {\n    constructor(canvas){\n        this.canvas = canvas;\n        this._events = /* @__PURE__ */ new Map();\n        this._disposers = /* @__PURE__ */ new Set();\n    }\n    on(event) {\n        const id = (0, $k6Cub.default)();\n        if (!this._events.has(event.type)) this._events.set(event.type, /* @__PURE__ */ new Map());\n        const map = this._events.get(event.type);\n        if (map == null) throw new Error(`Can not get event map for ${event.type}`);\n        map.set(id, event.action);\n        return ()=>{\n            map.delete(id);\n        };\n    }\n    dispose() {\n        for (let fn of this._disposers)fn();\n    }\n};\nvar $630e86ce1a69e605$export$1aad3252b0fb68b7 = class extends $630e86ce1a69e605$export$8ea6436d101f2919 {\n    constructor(canvas){\n        super(canvas);\n        const ctx = (0, $8aGfK.create)({\n            canvas: this.canvas\n        });\n        if (ctx == null) throw new Error(\"Erroring creating context\");\n        this.ctx = ctx;\n    }\n};\nfunction $630e86ce1a69e605$export$9ea7e8544c962ee3(Base) {\n    var _a;\n    return _a = class extends Base {\n        constructor(...args){\n            super(...args);\n            this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n            const resizeObserver = new ResizeObserver((entries)=>{\n                const map = this._events.get(_a.mapKey);\n                for (const entry of entries){\n                    const cr = entry.contentRect;\n                    (0, $ckcgQ.setCanvasSize)({\n                        canvas: this.canvas,\n                        width: cr.width,\n                        height: cr.height\n                    });\n                    if (map != null) for (let [_, fn] of map)fn({\n                        app: this,\n                        width: cr.width,\n                        height: cr.height\n                    });\n                    if (this._events.has(\"tick\")) {\n                        const m = this._events.get(\"tick\");\n                        if (m != null) for (let [_, fn] of m)fn({\n                            dt: 0,\n                            app: this\n                        });\n                    }\n                }\n            });\n            const container = this.canvas.parentElement;\n            if (container != null) resizeObserver.observe(container);\n            this._disposers.add(()=>{\n                resizeObserver.disconnect();\n            });\n        }\n    }, _a.mapKey = \"resize\", _a;\n}\n// src/mixins/tick.ts\nfunction $630e86ce1a69e605$export$47a154e7626f0372(Base) {\n    var _a, _last, _tickID, _tick;\n    return _a = class extends Base {\n        constructor(...args){\n            super(...args);\n            $630e86ce1a69e605$var$__privateAdd(this, _last, void 0);\n            $630e86ce1a69e605$var$__privateAdd(this, _tickID, void 0);\n            this.isRunning = false;\n            $630e86ce1a69e605$var$__privateAdd(this, _tick, ()=>{\n                if (this.isRunning === false) return;\n                const map = this._events.get(_a.mapKey);\n                if (map != null) {\n                    const now = window.performance.now();\n                    for (let [_, fn] of map)fn({\n                        dt: now - $630e86ce1a69e605$var$__privateGet(this, _last),\n                        app: this\n                    });\n                    $630e86ce1a69e605$var$__privateSet(this, _last, now);\n                }\n                $630e86ce1a69e605$var$__privateSet(this, _tickID, window.requestAnimationFrame($630e86ce1a69e605$var$__privateGet(this, _tick)));\n            });\n            $630e86ce1a69e605$var$__privateSet(this, _tickID, null);\n            $630e86ce1a69e605$var$__privateSet(this, _last, window.performance.now());\n            this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n            this._disposers.add(()=>{\n                if ($630e86ce1a69e605$var$__privateGet(this, _tickID)) window.cancelAnimationFrame($630e86ce1a69e605$var$__privateGet(this, _tickID));\n            });\n        }\n        start() {\n            this.isRunning = true;\n            $630e86ce1a69e605$var$__privateSet(this, _last, window.performance.now());\n            $630e86ce1a69e605$var$__privateGet(this, _tick).call(this);\n        }\n        stop() {\n            this.isRunning = false;\n        }\n    }, _last = new WeakMap(), _tickID = new WeakMap(), _tick = new WeakMap(), _a.mapKey = \"tick\", _a;\n}\n// src/mixins/interaction.ts\nfunction $630e86ce1a69e605$export$a8e01dbf0a30f22(Base) {\n    var _onPointerdown, _onPointerup, _onPointermove, _a;\n    return _a = class extends Base {\n        constructor(...args){\n            super(...args);\n            $630e86ce1a69e605$var$__privateAdd(this, _onPointerdown, (event)=>{\n                const map = this._events.get(\"pointerdown\");\n                const scale = window.devicePixelRatio;\n                if (map != null) for (let [_, fn] of map)fn({\n                    point: {\n                        x: event.offsetX * scale,\n                        y: event.offsetY * scale\n                    },\n                    app: this\n                });\n            });\n            $630e86ce1a69e605$var$__privateAdd(this, _onPointerup, (event)=>{\n                const map = this._events.get(\"pointerup\");\n                const scale = window.devicePixelRatio;\n                if (map != null) for (let [_, fn] of map)fn({\n                    point: {\n                        x: event.offsetX * scale,\n                        y: event.offsetY * scale\n                    },\n                    app: this\n                });\n            });\n            $630e86ce1a69e605$var$__privateAdd(this, _onPointermove, (event)=>{\n                const map = this._events.get(\"pointermove\");\n                const scale = window.devicePixelRatio;\n                const c = this.canvas;\n                if (map != null) for (let [_, fn] of map)fn({\n                    point: {\n                        x: event.offsetX * scale,\n                        y: event.offsetY * scale\n                    },\n                    app: this\n                });\n            });\n            this._events.set(\"pointerdown\", /* @__PURE__ */ new Map());\n            this._events.set(\"pointerup\", /* @__PURE__ */ new Map());\n            this._events.set(\"pointermove\", /* @__PURE__ */ new Map());\n            this.canvas.addEventListener(\"pointerdown\", $630e86ce1a69e605$var$__privateGet(this, _onPointerdown));\n            this.canvas.addEventListener(\"pointerup\", $630e86ce1a69e605$var$__privateGet(this, _onPointerup));\n            this.canvas.addEventListener(\"pointermove\", $630e86ce1a69e605$var$__privateGet(this, _onPointermove));\n            this._disposers.add(()=>{\n                this.canvas.removeEventListener(\"pointerdown\", $630e86ce1a69e605$var$__privateGet(this, _onPointerdown));\n                this.canvas.removeEventListener(\"pointerup\", $630e86ce1a69e605$var$__privateGet(this, _onPointerup));\n                this.canvas.removeEventListener(\"pointermove\", $630e86ce1a69e605$var$__privateGet(this, _onPointermove));\n            });\n        }\n    }, _onPointerdown = new WeakMap(), _onPointerup = new WeakMap(), _onPointermove = new WeakMap(), _a;\n}\n\n});\nparcelRegister(\"k6Cub\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $ea3238afc6b56ea1$export$2e2bcd8739ae039);\n\nvar $jnvTw = parcelRequire(\"jnvTw\");\n\nvar $iVZpt = parcelRequire(\"iVZpt\");\n\nvar $hlGJx = parcelRequire(\"hlGJx\");\nfunction $ea3238afc6b56ea1$var$v4(options, buf, offset) {\n    if ((0, $jnvTw.default).randomUUID && !buf && !options) return (0, $jnvTw.default).randomUUID();\n    options = options || {};\n    const rnds = options.random || (options.rng || (0, $iVZpt.default))(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = rnds[6] & 0x0f | 0x40;\n    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n    if (buf) {\n        offset = offset || 0;\n        for(let i = 0; i < 16; ++i)buf[offset + i] = rnds[i];\n        return buf;\n    }\n    return (0, $hlGJx.unsafeStringify)(rnds);\n}\nvar $ea3238afc6b56ea1$export$2e2bcd8739ae039 = $ea3238afc6b56ea1$var$v4;\n\n});\nparcelRegister(\"jnvTw\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $e1b8e7e3b637d75b$export$2e2bcd8739ae039);\nconst $e1b8e7e3b637d75b$var$randomUUID = typeof crypto !== \"undefined\" && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar $e1b8e7e3b637d75b$export$2e2bcd8739ae039 = {\n    randomUUID: $e1b8e7e3b637d75b$var$randomUUID\n};\n\n});\n\nparcelRegister(\"iVZpt\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $dc8d2f95093746a7$export$2e2bcd8739ae039);\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet $dc8d2f95093746a7$var$getRandomValues;\nconst $dc8d2f95093746a7$var$rnds8 = new Uint8Array(16);\nfunction $dc8d2f95093746a7$export$2e2bcd8739ae039() {\n    // lazy load so that environments that need to polyfill have a chance to do so\n    if (!$dc8d2f95093746a7$var$getRandomValues) {\n        // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n        $dc8d2f95093746a7$var$getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n        if (!$dc8d2f95093746a7$var$getRandomValues) throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n    }\n    return $dc8d2f95093746a7$var$getRandomValues($dc8d2f95093746a7$var$rnds8);\n}\n\n});\n\nparcelRegister(\"hlGJx\", function(module, exports) {\n\n$parcel$export(module.exports, \"unsafeStringify\", () => $ca158bd40230f94e$export$8fb373d660548968);\n\nvar $8XRGm = parcelRequire(\"8XRGm\");\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */ const $ca158bd40230f94e$var$byteToHex = [];\nfor(let i = 0; i < 256; ++i)$ca158bd40230f94e$var$byteToHex.push((i + 0x100).toString(16).slice(1));\nfunction $ca158bd40230f94e$export$8fb373d660548968(arr, offset = 0) {\n    // Note: Be careful editing this code!  It's been tuned for performance\n    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n    return $ca158bd40230f94e$var$byteToHex[arr[offset + 0]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 1]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 2]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 3]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 4]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 5]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 6]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 7]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 8]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 9]] + \"-\" + $ca158bd40230f94e$var$byteToHex[arr[offset + 10]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 11]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 12]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 13]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 14]] + $ca158bd40230f94e$var$byteToHex[arr[offset + 15]];\n}\nfunction $ca158bd40230f94e$var$stringify(arr, offset = 0) {\n    const uuid = $ca158bd40230f94e$export$8fb373d660548968(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n    // of the following:\n    // - One or more input array values don't map to a hex octet (leading to\n    // \"undefined\" in the uuid)\n    // - Invalid input values for the RFC `version` or `variant` fields\n    if (!(0, $8XRGm.default)(uuid)) throw TypeError(\"Stringified UUID is invalid\");\n    return uuid;\n}\nvar $ca158bd40230f94e$export$2e2bcd8739ae039 = $ca158bd40230f94e$var$stringify;\n\n});\nparcelRegister(\"8XRGm\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $686d79939c775394$export$2e2bcd8739ae039);\n\nvar $8r5l2 = parcelRequire(\"8r5l2\");\nfunction $686d79939c775394$var$validate(uuid) {\n    return typeof uuid === \"string\" && (0, $8r5l2.default).test(uuid);\n}\nvar $686d79939c775394$export$2e2bcd8739ae039 = $686d79939c775394$var$validate;\n\n});\nparcelRegister(\"8r5l2\", function(module, exports) {\n\n$parcel$export(module.exports, \"default\", () => $6244fc70d0f17c3e$export$2e2bcd8739ae039);\nvar $6244fc70d0f17c3e$export$2e2bcd8739ae039 = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\n});\n\n\n\n\n\nvar $83dee927f9a77834$exports = {};\n\n(parcelRequire(\"eMICP\")).register(new URL(\"\", import.meta.url).toString(), JSON.parse('[\"ixtt1\",\"index.1c1af944.js\",\"hFe3D\",\"../tiles.39e5b41c.webp\",\"bvZLB\",\"../pixi-app/index.98fe9304.js\",\"54OWi\",\"../react-app/index.f5731ccd.js\"]'));\n\n\nvar $fRwNr = parcelRequire(\"fRwNr\");\n\nvar $lx97N = parcelRequire(\"lx97N\");\n\nvar $eQBmg = parcelRequire(\"eQBmg\");\n\nvar $jhfT6 = parcelRequire(\"jhfT6\");\n\nvar $8dEFu = parcelRequire(\"8dEFu\");\n\nvar $lx97N = parcelRequire(\"lx97N\");\nclass $dc2d2eba36cd50a5$export$e926676385687eaf extends (0, $lx97N.Component) {\n    static getDerivedStateFromError(error) {\n        return {\n            hasError: true,\n            error: error\n        };\n    }\n    render() {\n        if (this.state.hasError) return this.props.fallback;\n        return this.props.children;\n    }\n    constructor(...args){\n        super(...args);\n        this.state = {\n            hasError: false,\n            error: null\n        };\n    }\n}\n\n\n\nvar $fRwNr = parcelRequire(\"fRwNr\");\n\nvar $eQBmg = parcelRequire(\"eQBmg\");\n\nvar $lx97N = parcelRequire(\"lx97N\");\nvar $c3f4183cfbe3239a$var$ResourceStatus;\n(function(ResourceStatus) {\n    ResourceStatus[ResourceStatus[\"none\"] = 0] = \"none\";\n    ResourceStatus[ResourceStatus[\"pending\"] = 1] = \"pending\";\n    ResourceStatus[ResourceStatus[\"done\"] = 2] = \"done\";\n    ResourceStatus[ResourceStatus[\"error\"] = 3] = \"error\";\n})($c3f4183cfbe3239a$var$ResourceStatus || ($c3f4183cfbe3239a$var$ResourceStatus = {}));\nclass $c3f4183cfbe3239a$export$39a853cfb5a94a63 {\n    constructor(fn){\n        this.status = 0;\n        this.error = undefined;\n        this.fn = fn;\n    }\n    async run() {\n        return new Promise(async (res, rej)=>{\n            try {\n                const out = await this.fn();\n                res(out);\n            } catch (err) {\n                rej(err);\n            }\n        }).then((data)=>{\n            this.status = 2;\n            this.data = data;\n        }).catch((err)=>{\n            this.status = 3;\n            this.error = err;\n        });\n    }\n    read() {\n        switch(this.status){\n            case 0:\n                const promise = this.run();\n                this.promise = promise;\n                throw this.promise;\n            case 1:\n                throw this.promise;\n            case 3:\n                throw this.error;\n            case 2:\n                return this.data;\n        }\n    }\n}\n\n\n\nconst $c39c22ae6a146fe4$var$imageUrl = new URL((parcelRequire(\"g7WLf\")));\nconst $c39c22ae6a146fe4$var$resource = new (0, $c3f4183cfbe3239a$export$39a853cfb5a94a63)(async ()=>{\n    (0, $eQBmg.Assets).add(\"sprites\", $c39c22ae6a146fe4$var$imageUrl.toString(), {\n        scaleMode: (0, $eQBmg.SCALE_MODES).NEAREST\n    });\n    const sheet = await (0, $eQBmg.Assets).load(\"sprites\");\n    const textures = new Map();\n    // @TODO fix to use a padding buffer in the sprite sheet to avoid rendering artefacts\n    textures.set(\"wall\", new (0, $eQBmg.Texture)(sheet.baseTexture, new (0, $eQBmg.Rectangle)(0, 20, 10, 10)));\n    textures.set(\"blob\", new (0, $eQBmg.Texture)(sheet.baseTexture, new (0, $eQBmg.Rectangle)(0, 0, 10, 10)));\n    return textures;\n});\nconst $c39c22ae6a146fe4$var$textureContext = /*#__PURE__*/ (0, $lx97N.createContext)({\n    textures: new Map()\n});\nfunction $c39c22ae6a146fe4$export$fd1bfc71f64c538c({ children: children }) {\n    const textures = $c39c22ae6a146fe4$var$resource.read();\n    console.log(textures);\n    // return children as React.ReactElement\n    return /*#__PURE__*/ (0, $fRwNr.jsx)($c39c22ae6a146fe4$var$textureContext.Provider, {\n        value: {\n            textures: textures ?? new Map()\n        },\n        children: children\n    });\n}\nfunction $c39c22ae6a146fe4$export$b2d4bc579b2b8a3c() {\n    const ctx = (0, $lx97N.useContext)($c39c22ae6a146fe4$var$textureContext);\n    return ctx.textures;\n}\n\n\nconst $8b5464efa97da910$var$container = document.querySelector(\".js-app\");\nconst $8b5464efa97da910$var$root = (0, $jhfT6.createRoot)($8b5464efa97da910$var$container);\n$8b5464efa97da910$var$root.render(/*#__PURE__*/ (0, $fRwNr.jsx)($8b5464efa97da910$var$App, {}));\nfunction $8b5464efa97da910$var$App() {\n    return /*#__PURE__*/ (0, $fRwNr.jsx)((0, $lx97N.Suspense), {\n        fallback: /*#__PURE__*/ (0, $fRwNr.jsx)(\"div\", {\n            children: \"Loading...\"\n        }),\n        children: /*#__PURE__*/ (0, $fRwNr.jsx)((0, $dc2d2eba36cd50a5$export$e926676385687eaf), {\n            fallback: /*#__PURE__*/ (0, $fRwNr.jsx)(\"div\", {\n                children: \"Error\"\n            }),\n            children: /*#__PURE__*/ (0, $fRwNr.jsx)((0, $c39c22ae6a146fe4$export$fd1bfc71f64c538c), {\n                children: /*#__PURE__*/ (0, $fRwNr.jsx)((0, $8dEFu.SketchProvider), {\n                    children: /*#__PURE__*/ (0, $fRwNr.jsx)($8b5464efa97da910$var$Container, {\n                        children: /*#__PURE__*/ (0, $fRwNr.jsx)($8b5464efa97da910$var$Sketch, {})\n                    })\n                })\n            })\n        })\n    });\n}\nfunction $8b5464efa97da910$var$Container({ children: children }) {\n    return /*#__PURE__*/ (0, $fRwNr.jsx)(\"div\", {\n        className: \"screen\",\n        children: children\n    });\n}\nlet $8b5464efa97da910$var$time = 0;\nfunction $8b5464efa97da910$var$Sketch() {\n    const app = (0, $8dEFu.useSketchApp)();\n    const textures = (0, $c39c22ae6a146fe4$export$b2d4bc579b2b8a3c)();\n    (0, $lx97N.useEffect)(()=>{\n        if (app == null) return;\n        const blob = textures.get(\"blob\");\n        if (blob == null) return;\n        const sprite = (0, $eQBmg.Sprite).from(blob);\n        const center = [\n            app.canvas.width * 0.5,\n            app.canvas.height * 0.5\n        ];\n        const size = 10;\n        const scale = 40;\n        const position = [\n            center[0] - size * scale * 0.5,\n            center[1] - size * scale * 0.5\n        ];\n        sprite.setTransform(position[0], position[1], scale, scale);\n        app.pixi.stage.addChild(sprite);\n        app.on({\n            type: \"tick\",\n            action: ({ dt: dt })=>{\n                $8b5464efa97da910$var$time = $8b5464efa97da910$var$time + dt / 500;\n                sprite.setTransform(position[0], position[1] - Math.sin($8b5464efa97da910$var$time) * 10 * scale, scale, scale);\n            }\n        });\n    }, [\n        app,\n        textures\n    ]);\n    return /*#__PURE__*/ (0, $fRwNr.jsx)((0, $8dEFu.SketchAttachment), {});\n}\n\n\n//# sourceMappingURL=index.1c1af944.js.map\n","\"use strict\";\n\nvar mapping = new Map();\nfunction register(baseUrl, manifest) {\n  for (var i = 0; i < manifest.length - 1; i += 2) {\n    mapping.set(manifest[i], {\n      baseUrl: baseUrl,\n      path: manifest[i + 1]\n    });\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping.get(id);\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return new URL(resolved.path, resolved.baseUrl).toString();\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","// src/index.tsx\nimport { createContext, useContext, useEffect, useRef, useState } from \"react\";\nimport { sketch } from \"sketch-pixi-app\";\nimport { jsx } from \"react/jsx-runtime\";\nvar applicationContext = createContext(null);\nfunction SketchProvider({\n  children,\n  app\n}) {\n  const [application, setApp] = useState(\n    app != null ? app : null\n  );\n  return /* @__PURE__ */ jsx(\n    applicationContext.Provider,\n    {\n      value: {\n        app: application,\n        setApp\n      },\n      children\n    }\n  );\n}\nfunction SketchAttachment() {\n  const ctx = useContext(applicationContext);\n  const canvas = useRef(null);\n  useEffect(() => {\n    if (ctx == null) {\n      throw new Error(\"Sketch attachment must be a child of a sketch provider\");\n    }\n    if (canvas == null || canvas.current == null) {\n      return;\n    }\n    if (ctx.app == null) {\n      const app = sketch({ canvas: canvas.current });\n      app.start();\n      ctx.setApp(app);\n    } else {\n      ctx.app.start();\n    }\n    return () => {\n      if (ctx && ctx.app != null) {\n        ctx.app.dispose();\n      }\n    };\n  }, [canvas, ctx]);\n  return /* @__PURE__ */ jsx(\"canvas\", { ref: canvas });\n}\nfunction useSketchApp() {\n  var _a;\n  const ctx = useContext(applicationContext);\n  return (_a = ctx == null ? void 0 : ctx.app) != null ? _a : null;\n}\nfunction useSketchTick(onTick) {\n  const app = useSketchApp();\n  useEffect(() => {\n    if (app == null) {\n      return;\n    }\n    const unsubscribe = app.on({\n      type: \"tick\",\n      action: onTick\n    });\n    return () => {\n      unsubscribe();\n    };\n  }, [onTick, app]);\n}\nexport {\n  SketchAttachment,\n  SketchProvider,\n  useSketchApp,\n  useSketchTick\n};\n","module.exports = new __parcel__URL__(\"../tiles.39e5b41c.webp\").toString();","// src/index.ts\nfunction setCanvasSize(opts) {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"Can not access window\");\n  }\n  const dpr = window.devicePixelRatio;\n  opts.canvas.width = opts.width;\n  opts.canvas.height = opts.height;\n  return setCanvasDpr({\n    canvas: opts.canvas,\n    dpr\n  });\n}\nfunction setCanvasDpr(opts) {\n  const canvas = opts.canvas;\n  const width = canvas.width;\n  const height = canvas.height;\n  canvas.width = width * opts.dpr;\n  canvas.height = height * opts.dpr;\n  canvas.style.width = width + \"px\";\n  canvas.style.height = height + \"px\";\n  return canvas;\n}\nexport {\n  setCanvasDpr,\n  setCanvasSize\n};\n","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  var _a, _b;\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    throw new Error(\"Can not create canvas element\");\n  }\n  const canvas = document.createElement(\"canvas\");\n  const width = (_a = opts == null ? void 0 : opts.width) != null ? _a : canvas.width;\n  const height = (_b = opts == null ? void 0 : opts.height) != null ? _b : canvas.height;\n  canvas.style.userSelect = \"none\";\n  canvas.onselectstart = () => false;\n  setCanvasSize({\n    canvas,\n    width,\n    height\n  });\n  return canvas;\n}\nexport {\n  create\n};\n","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  var _a, _b;\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    return null;\n  }\n  const canvas = (_a = opts == null ? void 0 : opts.canvas) != null ? _a : document.createElement(\"canvas\");\n  const dpr = window.devicePixelRatio;\n  const ctx = canvas.getContext(\"2d\", (_b = opts == null ? void 0 : opts.attributes) != null ? _b : {});\n  if (ctx == null) {\n    return null;\n  }\n  setCanvasSize({\n    canvas,\n    width: ctx.canvas.width,\n    height: ctx.canvas.height\n  });\n  ctx.scale(dpr, dpr);\n  return ctx;\n}\nexport {\n  create\n};\n","// src/index.ts\nimport { create } from \"sketch-canvas\";\nfunction attach(opts) {\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    throw new Error(\"Can not attach canvas\");\n  }\n  const canvas = (opts == null ? void 0 : opts.canvas) || create();\n  const container = (opts == null ? void 0 : opts.container) || canvas.parentElement;\n  if (container == null) {\n    throw new Error(\n      \"Must supply a container to attach the canvas to if not already appended\"\n    );\n  }\n  container.appendChild(canvas);\n  canvas.style.display = \"block\";\n  return {\n    canvas,\n    container\n  };\n}\nexport {\n  attach\n};\n","var __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\n\n// src/application.ts\nimport { v4 as uuid } from \"uuid\";\nimport { create as createContext } from \"sketch-context\";\nvar BaseApplication = class {\n  constructor(canvas) {\n    this.canvas = canvas;\n    this._events = /* @__PURE__ */ new Map();\n    this._disposers = /* @__PURE__ */ new Set();\n  }\n  on(event) {\n    const id = uuid();\n    if (!this._events.has(event.type)) {\n      this._events.set(event.type, /* @__PURE__ */ new Map());\n    }\n    const map = this._events.get(event.type);\n    if (map == null) {\n      throw new Error(`Can not get event map for ${event.type}`);\n    }\n    map.set(id, event.action);\n    return () => {\n      map.delete(id);\n    };\n  }\n  dispose() {\n    for (let fn of this._disposers) {\n      fn();\n    }\n  }\n};\nvar CtxApplication = class extends BaseApplication {\n  constructor(canvas) {\n    super(canvas);\n    const ctx = createContext({ canvas: this.canvas });\n    if (ctx == null) {\n      throw new Error(\"Erroring creating context\");\n    }\n    this.ctx = ctx;\n  }\n};\n\n// src/mixins/resize.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction withResize(Base) {\n  var _a;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n      const resizeObserver = new ResizeObserver((entries) => {\n        const map = this._events.get(_a.mapKey);\n        for (const entry of entries) {\n          const cr = entry.contentRect;\n          setCanvasSize({\n            canvas: this.canvas,\n            width: cr.width,\n            height: cr.height\n          });\n          if (map != null) {\n            for (let [_, fn] of map) {\n              fn({\n                app: this,\n                width: cr.width,\n                height: cr.height\n              });\n            }\n          }\n          if (this._events.has(\"tick\")) {\n            const m = this._events.get(\"tick\");\n            if (m != null) {\n              for (let [_, fn] of m) {\n                fn({\n                  dt: 0,\n                  app: this\n                });\n              }\n            }\n          }\n        }\n      });\n      const container = this.canvas.parentElement;\n      if (container != null) {\n        resizeObserver.observe(container);\n      }\n      this._disposers.add(() => {\n        resizeObserver.disconnect();\n      });\n    }\n  }, // Had to remove as typing for the class did not match with the return type\n  _a.mapKey = \"resize\", _a;\n}\n\n// src/mixins/tick.ts\nfunction withTick(Base) {\n  var _a, _last, _tickID, _tick;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      __privateAdd(this, _last, void 0);\n      __privateAdd(this, _tickID, void 0);\n      this.isRunning = false;\n      __privateAdd(this, _tick, () => {\n        if (this.isRunning === false) {\n          return;\n        }\n        const map = this._events.get(_a.mapKey);\n        if (map != null) {\n          const now = window.performance.now();\n          for (let [_, fn] of map) {\n            fn({\n              dt: now - __privateGet(this, _last),\n              app: this\n            });\n          }\n          __privateSet(this, _last, now);\n        }\n        __privateSet(this, _tickID, window.requestAnimationFrame(__privateGet(this, _tick)));\n      });\n      __privateSet(this, _tickID, null);\n      __privateSet(this, _last, window.performance.now());\n      this._events.set(_a.mapKey, /* @__PURE__ */ new Map());\n      this._disposers.add(() => {\n        if (__privateGet(this, _tickID)) {\n          window.cancelAnimationFrame(__privateGet(this, _tickID));\n        }\n      });\n    }\n    start() {\n      this.isRunning = true;\n      __privateSet(this, _last, window.performance.now());\n      __privateGet(this, _tick).call(this);\n    }\n    stop() {\n      this.isRunning = false;\n    }\n  }, _last = new WeakMap(), _tickID = new WeakMap(), _tick = new WeakMap(), _a.mapKey = \"tick\", _a;\n}\n\n// src/mixins/interaction.ts\nfunction withInteraction(Base) {\n  var _onPointerdown, _onPointerup, _onPointermove, _a;\n  return _a = class extends Base {\n    constructor(...args) {\n      super(...args);\n      __privateAdd(this, _onPointerdown, (event) => {\n        const map = this._events.get(\"pointerdown\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.offsetX * scale, y: event.offsetY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      __privateAdd(this, _onPointerup, (event) => {\n        const map = this._events.get(\"pointerup\");\n        const scale = window.devicePixelRatio;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.offsetX * scale, y: event.offsetY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      __privateAdd(this, _onPointermove, (event) => {\n        const map = this._events.get(\"pointermove\");\n        const scale = window.devicePixelRatio;\n        const c = this.canvas;\n        if (map != null) {\n          for (let [_, fn] of map) {\n            fn({\n              point: { x: event.offsetX * scale, y: event.offsetY * scale },\n              app: this\n            });\n          }\n        }\n      });\n      this._events.set(\"pointerdown\", /* @__PURE__ */ new Map());\n      this._events.set(\"pointerup\", /* @__PURE__ */ new Map());\n      this._events.set(\"pointermove\", /* @__PURE__ */ new Map());\n      this.canvas.addEventListener(\"pointerdown\", __privateGet(this, _onPointerdown));\n      this.canvas.addEventListener(\"pointerup\", __privateGet(this, _onPointerup));\n      this.canvas.addEventListener(\"pointermove\", __privateGet(this, _onPointermove));\n      this._disposers.add(() => {\n        this.canvas.removeEventListener(\"pointerdown\", __privateGet(this, _onPointerdown));\n        this.canvas.removeEventListener(\"pointerup\", __privateGet(this, _onPointerup));\n        this.canvas.removeEventListener(\"pointermove\", __privateGet(this, _onPointermove));\n      });\n    }\n  }, _onPointerdown = new WeakMap(), _onPointerup = new WeakMap(), _onPointermove = new WeakMap(), _a;\n}\nexport {\n  BaseApplication,\n  CtxApplication,\n  withInteraction,\n  withResize,\n  withTick\n};\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;","require('./helpers/bundle-manifest').register(new __parcel__URL__(\"\").toString(),JSON.parse(\"[\\\"ixtt1\\\",\\\"index.1c1af944.js\\\",\\\"hFe3D\\\",\\\"../tiles.39e5b41c.webp\\\",\\\"bvZLB\\\",\\\"../pixi-app/index.98fe9304.js\\\",\\\"54OWi\\\",\\\"../react-app/index.f5731ccd.js\\\"]\"));","import * as React from 'react'\n\nimport type {ApplicationInstance} from 'sketch-react-pixi'\n\nimport {Sprite} from 'pixi.js'\nimport {useEffect, Suspense} from 'react'\nimport {createRoot} from 'react-dom/client'\nimport {SketchProvider, SketchAttachment, useSketchApp} from 'sketch-react-pixi'\n\nimport {ErrorBoundary} from './errorBoundary'\nimport {TextureLoader, useTextures} from './textureLoader'\n\nconst container = document.querySelector('.js-app') as HTMLElement\nconst root = createRoot(container)\nroot.render(<App />)\n\nfunction App() {\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <ErrorBoundary fallback={<div>Error</div>}>\n        <TextureLoader>\n          <SketchProvider>\n            <Container>\n              <Sketch />\n            </Container>\n          </SketchProvider>\n        </TextureLoader>\n      </ErrorBoundary>\n    </Suspense>\n  )\n}\n\nfunction Container({children}: {children: React.ReactNode}) {\n  return <div className='screen'>{children}</div>\n}\n\nlet time = 0\nfunction Sketch() {\n  const app = useSketchApp()\n  const textures = useTextures()\n  useEffect(() => {\n    if (app == null) {\n      return\n    }\n\n    const blob = textures.get('blob')\n    if (blob == null) {\n      return\n    }\n\n    const sprite = Sprite.from(blob)\n    const center = [app.canvas.width * 0.5, app.canvas.height * 0.5]\n    const size = 10\n    const scale = 40\n    const position = [\n      center[0] - size * scale * 0.5,\n      center[1] - size * scale * 0.5,\n    ]\n    sprite.setTransform(position[0], position[1], scale, scale)\n    app.pixi.stage.addChild(sprite)\n\n    app.on({\n      type: 'tick',\n      action: ({dt}) => {\n        time = time + dt / 500\n\n        sprite.setTransform(\n          position[0],\n          position[1] - Math.sin(time) * 10 * scale,\n          scale,\n          scale\n        )\n      },\n    })\n  }, [app, textures])\n  return <SketchAttachment />\n}\n","import {Component} from 'react'\n\ntype Props = {\n  children: React.ReactNode\n  fallback: React.ReactNode\n}\ntype State = {\n  hasError: boolean\n  error: Error | null\n}\n\nexport class ErrorBoundary extends Component<Props, State> {\n  state = {hasError: false, error: null}\n\n  static getDerivedStateFromError(error: Error) {\n    return {\n      hasError: true,\n      error,\n    }\n  }\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback\n    }\n    return this.props.children\n  }\n}\n","import {Assets, SCALE_MODES, BaseTexture, Texture, Rectangle} from 'pixi.js'\nimport {createContext, useContext} from 'react'\n\nimport {Resource} from './resource'\n\nconst imageUrl = new URL(\n  '~/public/tiles.png?as=webp&width=100',\n  import.meta.url\n)\n\nexport type Resources = Map<string, Texture>\nconst resource = new Resource<Resources>(async () => {\n  Assets.add('sprites', imageUrl.toString(), {scaleMode: SCALE_MODES.NEAREST})\n  const sheet = await Assets.load<Texture>('sprites')\n  const textures = new Map<string, Texture>()\n\n  // @TODO fix to use a padding buffer in the sprite sheet to avoid rendering artefacts\n  textures.set(\n    'wall',\n    new Texture(sheet.baseTexture as BaseTexture, new Rectangle(0, 20, 10, 10))\n  )\n  textures.set(\n    'blob',\n    new Texture(sheet.baseTexture as BaseTexture, new Rectangle(0, 0, 10, 10))\n  )\n  return textures\n})\n\ntype TextureContext = {\n  textures: Resources\n}\nconst textureContext = createContext<TextureContext>({\n  textures: new Map(),\n})\n\nexport function TextureLoader({children}: {children: React.ReactNode}) {\n  const textures = resource.read()\n  console.log(textures)\n  // return children as React.ReactElement\n  return (\n    <textureContext.Provider value={{textures: textures ?? new Map()}}>\n      {children}\n    </textureContext.Provider>\n  )\n}\n\nexport function useTextures() {\n  const ctx = useContext(textureContext)\n  return ctx.textures\n}\n","enum ResourceStatus {\n  none,\n  pending,\n  done,\n  error,\n}\nexport class Resource<T> {\n  data?: T\n  status = ResourceStatus.none\n  error = undefined\n  promise?: Promise<void | T>\n  fn: () => Promise<void | T>\n\n  constructor(fn: () => Promise<T>) {\n    this.fn = fn\n  }\n\n  private async run() {\n    return new Promise<T>(async (res, rej) => {\n      try {\n        const out = await this.fn()\n        res(out as T)\n      } catch (err) {\n        rej(err)\n      }\n    })\n      .then((data: T) => {\n        this.status = ResourceStatus.done\n        this.data = data\n      })\n      .catch((err) => {\n        this.status = ResourceStatus.error\n        this.error = err\n      })\n  }\n\n  read() {\n    switch (this.status) {\n      case ResourceStatus.none:\n        const promise = this.run()\n        this.promise = promise\n        throw this.promise\n      case ResourceStatus.pending:\n        throw this.promise\n      case ResourceStatus.error:\n        throw this.error\n      case ResourceStatus.done:\n        return this.data\n    }\n  }\n}\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","ResourceStatus","$c3f4183cfbe3239a$var$ResourceStatus","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$ac382a038c05710f$export$6503ec6e8aabbaf","$ac382a038c05710f$var$mapping","Map","baseUrl","manifest","i","length","path","$fcaee89a98dbbe80$export$d4bf0edbbddc8898","$fcaee89a98dbbe80$export$eef3e2c8cb25a94","$fcaee89a98dbbe80$export$ea7bba1837e9aed6","$lx97N","$bIxrZ","$fRwNr","$fcaee89a98dbbe80$var$applicationContext","createContext","children","app","application","setApp","useState","jsx","Provider","value","ctx","useContext","canvas","useRef","useEffect","current","sketch","start","dispose","ref","_a","URL","url","toString","$7e6ea443c67680a4$export$e3aebd8246ac72dc","opts","window","dpr","devicePixelRatio","width","height","$7e6ea443c67680a4$export$efd52609a467c022","style","$86c4614c5abb1ea1$export$185802fd694ee1f5","$ckcgQ","_b","document","createElement","userSelect","onselectstart","setCanvasSize","$0fd96d774458c65a$export$185802fd694ee1f5","getContext","attributes","scale","$a9d113484ce60425$export$5ddf9e484e541d6f","$bW9gS","create","container","parentElement","appendChild","display","$630e86ce1a69e605$export$8ea6436d101f2919","$630e86ce1a69e605$export$1aad3252b0fb68b7","$630e86ce1a69e605$export$9ea7e8544c962ee3","$630e86ce1a69e605$export$47a154e7626f0372","$630e86ce1a69e605$export$a8e01dbf0a30f22","$k6Cub","$8aGfK","$630e86ce1a69e605$var$__accessCheck","obj","member","msg","has","TypeError","$630e86ce1a69e605$var$__privateGet","getter","$630e86ce1a69e605$var$__privateAdd","WeakSet","add","$630e86ce1a69e605$var$__privateSet","setter","constructor","_events","_disposers","Set","on","event","default","type","map","action","delete","fn","Base","args","mapKey","resizeObserver","ResizeObserver","entries","entry","cr","contentRect","_","m","dt","observe","disconnect","_last","_tickID","_tick","isRunning","now","performance","requestAnimationFrame","cancelAnimationFrame","stop","WeakMap","_onPointerdown","_onPointerup","_onPointermove","point","x","offsetX","y","offsetY","addEventListener","removeEventListener","$ea3238afc6b56ea1$export$2e2bcd8739ae039","$jnvTw","$iVZpt","$hlGJx","options","buf","offset","randomUUID","rnds","random","rng","unsafeStringify","$e1b8e7e3b637d75b$export$2e2bcd8739ae039","$e1b8e7e3b637d75b$var$randomUUID","crypto","bind","$dc8d2f95093746a7$var$getRandomValues","$dc8d2f95093746a7$export$2e2bcd8739ae039","$dc8d2f95093746a7$var$rnds8","Uint8Array","getRandomValues","$ca158bd40230f94e$export$8fb373d660548968","$ca158bd40230f94e$var$byteToHex","push","slice","arr","$686d79939c775394$export$2e2bcd8739ae039","$8r5l2","uuid","test","$6244fc70d0f17c3e$export$2e2bcd8739ae039","JSON","parse","$eQBmg","$jhfT6","$8dEFu","$dc2d2eba36cd50a5$export$e926676385687eaf","Component","getDerivedStateFromError","error","hasError","render","state","props","fallback","$c39c22ae6a146fe4$var$imageUrl","$c39c22ae6a146fe4$var$resource","status","undefined","run","Promise","res","rej","out","then","data","catch","read","promise","Assets","scaleMode","SCALE_MODES","NEAREST","sheet","load","textures","Texture","baseTexture","Rectangle","$c39c22ae6a146fe4$var$textureContext","$c39c22ae6a146fe4$export$fd1bfc71f64c538c","console","log","$8b5464efa97da910$var$container","querySelector","$8b5464efa97da910$var$root","createRoot","$8b5464efa97da910$var$Container","className","Suspense","SketchProvider","$8b5464efa97da910$var$Sketch","$8b5464efa97da910$var$time","useSketchApp","blob","sprite","Sprite","from","center","position","size","setTransform","pixi","stage","addChild","Math","sin","SketchAttachment"],"version":3,"file":"index.1c1af944.js.map"}