{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,W,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,Q,C,E,Q,S,C,C,C,E,E,E,O,C,S,I,ECAA,gBAAe;A,I,E,E,SAEf,SAAS,EAAO,CAAI,EAClB,IAAI,EAAI,EACR,GAAI,AAAkB,aAAlB,OAAO,QAA0B,AAAoB,aAApB,OAAO,SAC1C,OAAO,KAET,IAAM,EAAS,AAA8C,MAA7C,CAAA,EAAK,AAAQ,MAAR,EAAe,KAAK,EAAI,EAAK,MAAK,AAAL,EAAkB,EAAK,SAAS,aAAa,CAAC,UAC1F,EAAM,OAAO,gBAAgB,CAC7B,EAAM,EAAO,UAAU,CAAC,KAAO,AAAiD,MAAjD,CAAA,EAAK,AAAQ,MAAR,EAAe,KAAK,EAAI,EAAK,UAAS,AAAT,EAAsB,EAAK,CAAC,UACnG,AAAI,AAAO,MAAP,EACK,MAET,AAAA,CAAA,EAAA,EAAA,aAAY,AAAZ,EAAc,CACZ,OAAA,EACA,MAAO,EAAI,MAAM,CAAC,KAAK,CACvB,OAAQ,EAAI,MAAM,CAAC,MAAM,AAC3B,GACA,EAAI,KAAK,CAAC,EAAK,GACR,EACT,C,G,E,Q,S,C,C,C,ECpBA,eAAe;AACf,SAAS,EAAc,CAAI,EACzB,GAAI,AAAkB,aAAlB,OAAO,OACT,MAAM,AAAI,MAAM,yBAElB,IAAM,EAAM,OAAO,gBAAgB,CAGnC,OAFA,EAAK,MAAM,CAAC,KAAK,CAAG,EAAK,KAAK,CAC9B,EAAK,MAAM,CAAC,MAAM,CAAG,EAAK,MAAM,CACzB,EAAa,CAClB,OAAQ,EAAK,MAAM,CACnB,IAAA,CACF,EACF,CACA,SAAS,EAAa,CAAI,EACxB,IAAM,EAAS,EAAK,MAAM,CACpB,EAAQ,EAAO,KAAK,CACpB,EAAS,EAAO,MAAM,CAK5B,OAJA,EAAO,KAAK,CAAG,EAAQ,EAAK,GAAG,CAC/B,EAAO,MAAM,CAAG,EAAS,EAAK,GAAG,CACjC,EAAO,KAAK,CAAC,KAAK,CAAG,EAAQ,KAC7B,EAAO,KAAK,CAAC,MAAM,CAAG,EAAS,KACxB,CACT,C,E,E,O,C,gB,I,G,E,E,O,C,e,I,E,G,I,E,E,SCpBA,IAAI,EAAW,EAEf,SAAS,EAAO,CAA6B,EAC3C,GAFS,IAIT,IAAM,EAAS,EAAI,KAAK,GAAG,CAAC,GACtB,EAAM,EAAI,AAAqB,IAArB,KAAK,GAAG,CAAC,GACnB,EAAQ,EAAS,KAAK,EAAE,CAAG,EACjC,EAAI,SAAS,CAAC,EAAG,EAAG,EAAI,MAAM,CAAC,KAAK,CAAE,EAAI,MAAM,CAAC,MAAM,EACvD,EAAI,WAAW,CAAG,MAClB,EAAI,SAAS,CAAG,EAChB,EAAI,SAAS,GACb,EAAI,GAAG,CAAC,IAAK,IAAK,GAAI,EAAO,EAAQ,KAAK,EAAE,CAAG,GAC/C,EAAI,MAAM,GAEV,OAAO,qBAAqB,CAAC,IAAM,EAAO,GAC5C,EA+BA,AA7BA,WACE,IAAM,EAAM,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,GACD,OAAP,IAIJ,QAAQ,GAAG,CAAC,EAAI,MAAM,CAAC,KAAK,EAE5B,SAAS,IAAI,CAAC,WAAW,CAAC,EAAI,MAAM,EAEpC,EAAO,GACT,IAmBA,AAjBA,WACE,IAAM,EAAS,SAAS,aAAa,CAAoB,cACzD,GAAI,AAAU,MAAV,EACF,OAGF,IAAM,EAAM,AAAA,CAAA,EAAA,EAAA,MAAK,AAAL,EAAO,CACjB,OAAQ,CACV,EACW,OAAP,GAIJ,EAAO,EACT,G,4D","sources":["<anon>","packages/sketch-context/lib/index.mjs","packages/sketch-canvas-size/lib/index.mjs","apps/examples/pages/context/context.ts"],"sourcesContent":["\nfunction $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequireedcf\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequireedcf\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\nparcelRegister(\"8aGfK\", function(module, exports) {\n\n$parcel$export(module.exports, \"create\", () => $0fd96d774458c65a$export$185802fd694ee1f5);\n// src/index.ts\n\nvar $ckcgQ = parcelRequire(\"ckcgQ\");\nfunction $0fd96d774458c65a$export$185802fd694ee1f5(opts) {\n    var _a, _b;\n    if (typeof window === \"undefined\" || typeof document === \"undefined\") return null;\n    const canvas = (_a = opts == null ? void 0 : opts.canvas) != null ? _a : document.createElement(\"canvas\");\n    const dpr = window.devicePixelRatio;\n    const ctx = canvas.getContext(\"2d\", (_b = opts == null ? void 0 : opts.attributes) != null ? _b : {});\n    if (ctx == null) return null;\n    (0, $ckcgQ.setCanvasSize)({\n        canvas: canvas,\n        width: ctx.canvas.width,\n        height: ctx.canvas.height\n    });\n    ctx.scale(dpr, dpr);\n    return ctx;\n}\n\n});\nparcelRegister(\"ckcgQ\", function(module, exports) {\n\n$parcel$export(module.exports, \"setCanvasSize\", () => $7e6ea443c67680a4$export$e3aebd8246ac72dc);\n$parcel$export(module.exports, \"setCanvasDpr\", () => $7e6ea443c67680a4$export$efd52609a467c022);\n// src/index.ts\nfunction $7e6ea443c67680a4$export$e3aebd8246ac72dc(opts) {\n    if (typeof window === \"undefined\") throw new Error(\"Can not access window\");\n    const dpr = window.devicePixelRatio;\n    opts.canvas.width = opts.width;\n    opts.canvas.height = opts.height;\n    return $7e6ea443c67680a4$export$efd52609a467c022({\n        canvas: opts.canvas,\n        dpr: dpr\n    });\n}\nfunction $7e6ea443c67680a4$export$efd52609a467c022(opts) {\n    const canvas = opts.canvas;\n    const width = canvas.width;\n    const height = canvas.height;\n    canvas.width = width * opts.dpr;\n    canvas.height = height * opts.dpr;\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n    return canvas;\n}\n\n});\n\n\n\nvar $8aGfK = parcelRequire(\"8aGfK\");\nlet $e565fc06279b799b$var$rotation = 0;\nlet $e565fc06279b799b$var$rate = 0.02;\nfunction $e565fc06279b799b$var$render(ctx) {\n    $e565fc06279b799b$var$rotation = $e565fc06279b799b$var$rotation + $e565fc06279b799b$var$rate;\n    const period = 1 + Math.sin($e565fc06279b799b$var$rotation);\n    const len = 1 + Math.sin($e565fc06279b799b$var$rotation) * 0.75;\n    const angle = period * Math.PI * 2;\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.strokeStyle = \"red\";\n    ctx.lineWidth = 4;\n    ctx.beginPath();\n    ctx.arc(100, 100, 20, angle, angle + Math.PI * len);\n    ctx.stroke();\n    window.requestAnimationFrame(()=>$e565fc06279b799b$var$render(ctx));\n}\nfunction $e565fc06279b799b$var$renderWithNewCanvas() {\n    const ctx = (0, $8aGfK.create)();\n    if (ctx == null) return;\n    console.log(ctx.canvas.width);\n    document.body.appendChild(ctx.canvas);\n    $e565fc06279b799b$var$render(ctx);\n}\nfunction $e565fc06279b799b$var$renderWithExistingCanvas() {\n    const canvas = document.querySelector(\".js-canvas\");\n    if (canvas == null) return;\n    const ctx = (0, $8aGfK.create)({\n        canvas: canvas\n    });\n    if (ctx == null) return;\n    $e565fc06279b799b$var$render(ctx);\n}\n$e565fc06279b799b$var$renderWithNewCanvas();\n$e565fc06279b799b$var$renderWithExistingCanvas();\n\n\n//# sourceMappingURL=index.935ae1c9.js.map\n","// src/index.ts\nimport { setCanvasSize } from \"sketch-canvas-size\";\nfunction create(opts) {\n  var _a, _b;\n  if (typeof window === \"undefined\" || typeof document === \"undefined\") {\n    return null;\n  }\n  const canvas = (_a = opts == null ? void 0 : opts.canvas) != null ? _a : document.createElement(\"canvas\");\n  const dpr = window.devicePixelRatio;\n  const ctx = canvas.getContext(\"2d\", (_b = opts == null ? void 0 : opts.attributes) != null ? _b : {});\n  if (ctx == null) {\n    return null;\n  }\n  setCanvasSize({\n    canvas,\n    width: ctx.canvas.width,\n    height: ctx.canvas.height\n  });\n  ctx.scale(dpr, dpr);\n  return ctx;\n}\nexport {\n  create\n};\n","// src/index.ts\nfunction setCanvasSize(opts) {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"Can not access window\");\n  }\n  const dpr = window.devicePixelRatio;\n  opts.canvas.width = opts.width;\n  opts.canvas.height = opts.height;\n  return setCanvasDpr({\n    canvas: opts.canvas,\n    dpr\n  });\n}\nfunction setCanvasDpr(opts) {\n  const canvas = opts.canvas;\n  const width = canvas.width;\n  const height = canvas.height;\n  canvas.width = width * opts.dpr;\n  canvas.height = height * opts.dpr;\n  canvas.style.width = width + \"px\";\n  canvas.style.height = height + \"px\";\n  return canvas;\n}\nexport {\n  setCanvasDpr,\n  setCanvasSize\n};\n","import {create} from 'sketch-context'\n\nlet rotation = 0\nlet rate = 0.02\nfunction render(ctx: CanvasRenderingContext2D) {\n  rotation = rotation + rate\n\n  const period = 1 + Math.sin(rotation)\n  const len = 1 + Math.sin(rotation) * 0.75\n  const angle = period * Math.PI * 2\n  ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height)\n  ctx.strokeStyle = 'red'\n  ctx.lineWidth = 4\n  ctx.beginPath()\n  ctx.arc(100, 100, 20, angle, angle + Math.PI * len)\n  ctx.stroke()\n\n  window.requestAnimationFrame(() => render(ctx))\n}\n\nfunction renderWithNewCanvas() {\n  const ctx = create()\n  if (ctx == null) {\n    return\n  }\n\n  console.log(ctx.canvas.width)\n\n  document.body.appendChild(ctx.canvas)\n\n  render(ctx)\n}\n\nfunction renderWithExistingCanvas() {\n  const canvas = document.querySelector<HTMLCanvasElement>('.js-canvas')\n  if (canvas == null) {\n    return\n  }\n\n  const ctx = create({\n    canvas: canvas,\n  })\n  if (ctx == null) {\n    return\n  }\n\n  render(ctx)\n}\n\nrenderWithNewCanvas()\nrenderWithExistingCanvas()\n"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","parcelRegister","$0fd96d774458c65a$export$185802fd694ee1f5","$ckcgQ","opts","_a","_b","window","document","canvas","createElement","dpr","devicePixelRatio","ctx","getContext","attributes","setCanvasSize","width","height","scale","$7e6ea443c67680a4$export$e3aebd8246ac72dc","$7e6ea443c67680a4$export$efd52609a467c022","style","$8aGfK","$e565fc06279b799b$var$rotation","$e565fc06279b799b$var$render","period","Math","sin","len","angle","PI","clearRect","strokeStyle","lineWidth","beginPath","arc","stroke","requestAnimationFrame","$e565fc06279b799b$var$renderWithNewCanvas","create","console","log","body","appendChild","$e565fc06279b799b$var$renderWithExistingCanvas","querySelector"],"version":3,"file":"index.935ae1c9.js.map"}